let e,t;function i(e,t,i,r){Object.defineProperty(e,t,{get:i,set:r,enumerable:!0,configurable:!0})}var r,n,s,o,a,l,h,u,c,d,f,p,g,m,v,y,w,_,b,I,E,T,S,k,C,R,A,O,P,N,D,L,M="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},x={},U={},j=M.parcelRequireefef;null==j&&((j=function(e){if(e in x)return x[e].exports;if(e in U){var t=U[e];delete U[e];var i={id:e,exports:{}};return x[e]=i,t.call(i.exports,i,i.exports),i.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){U[e]=t},M.parcelRequireefef=j),j.register("iTWFB",function(e,t){i(e.exports,"Fragment",()=>r,e=>r=e),i(e.exports,"jsx",()=>n,e=>n=e),i(e.exports,"jsxs",()=>s,e=>s=e);var r,n,s,o=j("2TgRs"),a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),h=Object.prototype.hasOwnProperty,u=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(e,t,i){var r,n={},s=null,o=null;for(r in void 0!==i&&(s=""+i),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(o=t.ref),t)h.call(t,r)&&!c.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===n[r]&&(n[r]=t[r]);return{$$typeof:a,type:e,key:s,ref:o,props:n,_owner:u.current}}r=l,n=d,s=d}),j.register("2TgRs",function(e,t){e.exports=j("1lshC")}),j.register("1lshC",function(e,t){i(e.exports,"Children",()=>r,e=>r=e),i(e.exports,"Component",()=>n,e=>n=e),i(e.exports,"Fragment",()=>s,e=>s=e),i(e.exports,"Profiler",()=>o,e=>o=e),i(e.exports,"PureComponent",()=>a,e=>a=e),i(e.exports,"StrictMode",()=>l,e=>l=e),i(e.exports,"Suspense",()=>h,e=>h=e),i(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>u,e=>u=e),i(e.exports,"cloneElement",()=>c,e=>c=e),i(e.exports,"createContext",()=>d,e=>d=e),i(e.exports,"createElement",()=>f,e=>f=e),i(e.exports,"createFactory",()=>p,e=>p=e),i(e.exports,"createRef",()=>g,e=>g=e),i(e.exports,"forwardRef",()=>m,e=>m=e),i(e.exports,"isValidElement",()=>v,e=>v=e),i(e.exports,"lazy",()=>y,e=>y=e),i(e.exports,"memo",()=>w,e=>w=e),i(e.exports,"startTransition",()=>_,e=>_=e),i(e.exports,"unstable_act",()=>b,e=>b=e),i(e.exports,"useCallback",()=>I,e=>I=e),i(e.exports,"useContext",()=>E,e=>E=e),i(e.exports,"useDebugValue",()=>T,e=>T=e),i(e.exports,"useDeferredValue",()=>S,e=>S=e),i(e.exports,"useEffect",()=>k,e=>k=e),i(e.exports,"useId",()=>C,e=>C=e),i(e.exports,"useImperativeHandle",()=>R,e=>R=e),i(e.exports,"useInsertionEffect",()=>A,e=>A=e),i(e.exports,"useLayoutEffect",()=>O,e=>O=e),i(e.exports,"useMemo",()=>P,e=>P=e),i(e.exports,"useReducer",()=>N,e=>N=e),i(e.exports,"useRef",()=>D,e=>D=e),i(e.exports,"useState",()=>L,e=>L=e),i(e.exports,"useSyncExternalStore",()=>M,e=>M=e),i(e.exports,"useTransition",()=>x,e=>x=e),i(e.exports,"version",()=>U,e=>U=e);var r,n,s,o,a,l,h,u,c,d,f,p,g,m,v,y,w,_,b,I,E,T,S,k,C,R,A,O,P,N,D,L,M,x,U,j=Symbol.for("react.element"),F=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),B=Symbol.for("react.provider"),z=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),G=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),J=Symbol.iterator,Y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,Q={};function Z(e,t,i){this.props=e,this.context=t,this.refs=Q,this.updater=i||Y}function ee(){}function et(e,t,i){this.props=e,this.context=t,this.refs=Q,this.updater=i||Y}Z.prototype.isReactComponent={},Z.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},Z.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},ee.prototype=Z.prototype;var ei=et.prototype=new ee;ei.constructor=et,X(ei,Z.prototype),ei.isPureReactComponent=!0;var er=Array.isArray,en=Object.prototype.hasOwnProperty,es={current:null},eo={key:!0,ref:!0,__self:!0,__source:!0};function ea(e,t,i){var r,n={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)en.call(t,r)&&!eo.hasOwnProperty(r)&&(n[r]=t[r]);var a=arguments.length-2;if(1===a)n.children=i;else if(1<a){for(var l=Array(a),h=0;h<a;h++)l[h]=arguments[h+2];n.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===n[r]&&(n[r]=a[r]);return{$$typeof:j,type:e,key:s,ref:o,props:n,_owner:es.current}}function el(e){return"object"==typeof e&&null!==e&&e.$$typeof===j}var eh=/\/+/g;function eu(e,t){var i,r;return"object"==typeof e&&null!==e&&null!=e.key?(i=""+e.key,r={"=":"=0",":":"=2"},"$"+i.replace(/[=:]/g,function(e){return r[e]})):t.toString(36)}function ec(e,t,i){if(null==e)return e;var r=[],n=0;return function e(t,i,r,n,s){var o,a,l,h=typeof t;("undefined"===h||"boolean"===h)&&(t=null);var u=!1;if(null===t)u=!0;else switch(h){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case j:case F:u=!0}}if(u)return s=s(u=t),t=""===n?"."+eu(u,0):n,er(s)?(r="",null!=t&&(r=t.replace(eh,"$&/")+"/"),e(s,i,r,"",function(e){return e})):null!=s&&(el(s)&&(o=s,a=r+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(eh,"$&/")+"/")+t,s={$$typeof:j,type:o.type,key:a,ref:o.ref,props:o.props,_owner:o._owner}),i.push(s)),1;if(u=0,n=""===n?".":n+":",er(t))for(var c=0;c<t.length;c++){var d=n+eu(h=t[c],c);u+=e(h,i,r,d,s)}else if("function"==typeof(d=null===(l=t)||"object"!=typeof l?null:"function"==typeof(l=J&&l[J]||l["@@iterator"])?l:null))for(t=d.call(t),c=0;!(h=t.next()).done;)d=n+eu(h=h.value,c++),u+=e(h,i,r,d,s);else if("object"===h)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(i=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return u}(e,r,"","",function(e){return t.call(i,e,n++)}),r}function ed(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var ef={current:null},ep={transition:null};r={map:ec,forEach:function(e,t,i){ec(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return ec(e,function(){t++}),t},toArray:function(e){return ec(e,function(e){return e})||[]},only:function(e){if(!el(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n=Z,s=$,o=H,a=et,l=V,h=K,u={ReactCurrentDispatcher:ef,ReactCurrentBatchConfig:ep,ReactCurrentOwner:es},c=function(e,t,i){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=X({},e.props),n=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=es.current),void 0!==t.key&&(n=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)en.call(t,l)&&!eo.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==a?a[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){a=Array(l);for(var h=0;h<l;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:j,type:e.type,key:n,ref:s,props:r,_owner:o}},d=function(e){return(e={$$typeof:z,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:B,_context:e},e.Consumer=e},f=ea,p=function(e){var t=ea.bind(null,e);return t.type=e,t},g=function(){return{current:null}},m=function(e){return{$$typeof:W,render:e}},v=el,y=function(e){return{$$typeof:q,_payload:{_status:-1,_result:e},_init:ed}},w=function(e,t){return{$$typeof:G,type:e,compare:void 0===t?null:t}},_=function(e){var t=ep.transition;ep.transition={};try{e()}finally{ep.transition=t}},b=function(){throw Error("act(...) is not supported in production builds of React.")},I=function(e,t){return ef.current.useCallback(e,t)},E=function(e){return ef.current.useContext(e)},T=function(){},S=function(e){return ef.current.useDeferredValue(e)},k=function(e,t){return ef.current.useEffect(e,t)},C=function(){return ef.current.useId()},R=function(e,t,i){return ef.current.useImperativeHandle(e,t,i)},A=function(e,t){return ef.current.useInsertionEffect(e,t)},O=function(e,t){return ef.current.useLayoutEffect(e,t)},P=function(e,t){return ef.current.useMemo(e,t)},N=function(e,t,i){return ef.current.useReducer(e,t,i)},D=function(e){return ef.current.useRef(e)},L=function(e){return ef.current.useState(e)},M=function(e,t,i){return ef.current.useSyncExternalStore(e,t,i)},x=function(){return ef.current.useTransition()},U="18.2.0"}),j("iTWFB");var F=(j("2TgRs"),j("2TgRs"));function $(){return($=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}function V(e,t){if(!1===e||null==e)throw Error(t)}function H(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substr(i),e=e.substr(0,i));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function B(e,t,i,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t)+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+i+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}(tk=tN||(tN={})).Pop="POP",tk.Push="PUSH",tk.Replace="REPLACE",(tC=tD||(tD={})).data="data",tC.deferred="deferred",tC.redirect="redirect",tC.error="error";const z=e=>e.join("/").replace(/\/\/+/g,"/"),W=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",K=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Symbol("deferred");const G=F.createContext(null),q=F.createContext(null),J=F.createContext({outlet:null,matches:[],isDataRoute:!1});function Y(){return null!=F.useContext(q)||V(!1),F.useContext(q).location}var X=((tR=X||{}).UseBlocker="useBlocker",tR.UseRevalidator="useRevalidator",tR.UseNavigateStable="useNavigate",tR),Q=((tA=Q||{}).UseBlocker="useBlocker",tA.UseLoaderData="useLoaderData",tA.UseActionData="useActionData",tA.UseRouteError="useRouteError",tA.UseNavigation="useNavigation",tA.UseRouteLoaderData="useRouteLoaderData",tA.UseMatches="useMatches",tA.UseRevalidator="useRevalidator",tA.UseNavigateStable="useNavigate",tA.UseRouteId="useRouteId",tA);F.startTransition;var Z=((tO=Z||{})[tO.pending=0]="pending",tO[tO.success=1]="success",tO[tO.error=2]="error",tO);new Promise(()=>{}),j("2TgRs"),j("2TgRs"),j("2TgRs"),j("2TgRs");var F=j("2TgRs"),ee={},et=ee={};function ei(){throw Error("setTimeout has not been defined")}function er(){throw Error("clearTimeout has not been defined")}function en(e){if(tL===setTimeout)return setTimeout(e,0);if((tL===ei||!tL)&&setTimeout)return tL=setTimeout,setTimeout(e,0);try{return tL(e,0)}catch(t){try{return tL.call(null,e,0)}catch(t){return tL.call(this,e,0)}}}!function(){try{tL="function"==typeof setTimeout?setTimeout:ei}catch(e){tL=ei}try{tM="function"==typeof clearTimeout?clearTimeout:er}catch(e){tM=er}}();var es=[],eo=!1,ea=-1;function el(){eo&&tx&&(eo=!1,tx.length?es=tx.concat(es):ea=-1,es.length&&eh())}function eh(){if(!eo){var e=en(el);eo=!0;for(var t=es.length;t;){for(tx=es,es=[];++ea<t;)tx&&tx[ea].run();ea=-1,t=es.length}tx=null,eo=!1,function(e){if(tM===clearTimeout)return clearTimeout(e);if((tM===er||!tM)&&clearTimeout)return tM=clearTimeout,clearTimeout(e);try{tM(e)}catch(t){try{return tM.call(null,e)}catch(t){return tM.call(this,e)}}}(e)}}function eu(e,t){this.fun=e,this.array=t}function ec(){}et.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];es.push(new eu(e,t)),1!==es.length||eo||en(eh)},eu.prototype.run=function(){this.fun.apply(null,this.array)},et.title="browser",et.browser=!0,et.env={},et.argv=[],et.version="",et.versions={},et.on=ec,et.addListener=ec,et.once=ec,et.off=ec,et.removeListener=ec,et.removeAllListeners=ec,et.emit=ec,et.prependListener=ec,et.prependOnceListener=ec,et.listeners=function(e){return[]},et.binding=function(e){throw Error("process.binding is not supported")},et.cwd=function(){return"/"},et.chdir=function(e){throw Error("process.chdir is not supported")},et.umask=function(){return 0};const ed=function(e){let t=[],i=0;for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t[i++]=n:(n<2048?t[i++]=n>>6|192:((64512&n)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(n=65536+((1023&n)<<10)+(1023&e.charCodeAt(++r)),t[i++]=n>>18|240,t[i++]=n>>12&63|128):t[i++]=n>>12|224,t[i++]=n>>6&63|128),t[i++]=63&n|128)}return t},ef=function(e){let t=[],i=0,r=0;for(;i<e.length;){let n=e[i++];if(n<128)t[r++]=String.fromCharCode(n);else if(n>191&&n<224){let s=e[i++];t[r++]=String.fromCharCode((31&n)<<6|63&s)}else if(n>239&&n<365){let s=e[i++],o=e[i++],a=e[i++],l=((7&n)<<18|(63&s)<<12|(63&o)<<6|63&a)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(1023&l))}else{let s=e[i++],o=e[i++];t[r++]=String.fromCharCode((15&n)<<12|(63&s)<<6|63&o)}}return t.join("")},ep={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let n=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,h=n>>2,u=(3&n)<<4|o>>4,c=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(c=64)),r.push(i[h],i[u],i[c],i[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ed(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):ef(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let n=i[e.charAt(t++)],s=t<e.length,o=s?i[e.charAt(t)]:0;++t;let a=t<e.length,l=a?i[e.charAt(t)]:64;++t;let h=t<e.length,u=h?i[e.charAt(t)]:64;if(++t,null==n||null==o||null==l||null==u)throw new eg;let c=n<<2|o>>4;if(r.push(c),64!==l){let e=o<<4&240|l>>2;if(r.push(e),64!==u){let e=l<<6&192|u;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class eg extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const em=function(e){let t=ed(e);return ep.encodeByteArray(t,!0)},ev=function(e){return em(e).replace(/\./g,"")},ey=function(e){try{return ep.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},ew=()=>(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==M)return M;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,e_=()=>{if(void 0===ee||void 0===ee.env)return;let e=void 0;if(e)return JSON.parse(e)},eb=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&ey(e[1]);return t&&JSON.parse(t)},eI=()=>{try{return ew()||e_()||eb()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},eE=e=>{var t,i;return null===(i=null===(t=eI())||void 0===t?void 0:t.emulatorHosts)||void 0===i?void 0:i[e]},eT=e=>{let t=eE(e);if(!t)return;let i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(i+1),10);return"["===t[0]?[t.substring(1,i-1),r]:[t.substring(0,i),r]},eS=()=>{var e;return null===(e=eI())||void 0===e?void 0:e.config},ek=e=>{var t;return null===(t=eI())||void 0===t?void 0:t[`_${e}`]};class eC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function eR(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class eA extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,eA.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eO.prototype.create)}}class eO{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){let i=t[0]||{},r=`${this.service}/${e}`,n=this.errors[e],s=n?n.replace(eP,(e,t)=>{let r=i[t];return null!=r?String(r):`<${t}?>`}):"Error",o=`${this.serviceName}: ${s} (${r}).`,a=new eA(r,o,i);return a}}const eP=/\{\$([^}]+)}/g;function eN(e,t){if(e===t)return!0;let i=Object.keys(e),r=Object.keys(t);for(let n of i){if(!r.includes(n))return!1;let i=e[n],s=t[n];if(eD(i)&&eD(s)){if(!eN(i,s))return!1}else if(i!==s)return!1}for(let e of r)if(!i.includes(e))return!1;return!0}function eD(e){return null!==e&&"object"==typeof e}function eL(e){let t=[];for(let[i,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function eM(e){let t={},i=e.replace(/^\?/,"").split("&");return i.forEach(e=>{if(e){let[i,r]=e.split("=");t[decodeURIComponent(i)]=decodeURIComponent(r)}}),t}function ex(e){let t=e.indexOf("?");if(!t)return"";let i=e.indexOf("#",t);return e.substring(t,i>0?i:void 0)}class eU{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(void 0===e&&void 0===t&&void 0===i)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:i}:e).next&&(r.next=ej),void 0===r.error&&(r.error=ej),void 0===r.complete&&(r.complete=ej);let n=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),n}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ej(){}function eF(e){return e&&e._delegate?e._delegate:e}class e${constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const eV="[DEFAULT]";class eH{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new eC;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&e.resolve(i)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let i=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(e){if(r)return null;throw e}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:eV})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:i});t.resolve(e)}catch(e){}}}}clearInstance(e=eV){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=eV){return this.instances.has(e)}getOptions(e=eV){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);i===n&&t.resolve(r)}return r}onInit(e,t){var i;let r=this.normalizeInstanceIdentifier(t),n=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;n.add(e),this.onInitCallbacks.set(r,n);let s=this.instances.get(r);return s&&e(s,r),()=>{n.delete(e)}}invokeOnInitCallbacks(e,t){let i=this.onInitCallbacks.get(t);if(i)for(let r of i)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:e===eV?void 0:e,options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(e){}return i||null}normalizeInstanceIdentifier(e=eV){return this.component?this.component.multipleInstances?e:eV:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class eB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){let t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new eH(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ez=[];(tP=tU||(tU={}))[tP.DEBUG=0]="DEBUG",tP[tP.VERBOSE=1]="VERBOSE",tP[tP.INFO=2]="INFO",tP[tP.WARN=3]="WARN",tP[tP.ERROR=4]="ERROR",tP[tP.SILENT=5]="SILENT";const eW={debug:tU.DEBUG,verbose:tU.VERBOSE,info:tU.INFO,warn:tU.WARN,error:tU.ERROR,silent:tU.SILENT},eK=tU.INFO,eG={[tU.DEBUG]:"log",[tU.VERBOSE]:"log",[tU.INFO]:"info",[tU.WARN]:"warn",[tU.ERROR]:"error"},eq=(e,t,...i)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),n=eG[t];if(n)console[n](`[${r}]  ${e.name}:`,...i);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class eJ{constructor(e){this.name=e,this._logLevel=eK,this._logHandler=eq,this._userLogHandler=null,ez.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tU))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?eW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tU.DEBUG,...e),this._logHandler(this,tU.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tU.VERBOSE,...e),this._logHandler(this,tU.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tU.INFO,...e),this._logHandler(this,tU.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tU.WARN,...e),this._logHandler(this,tU.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tU.ERROR,...e),this._logHandler(this,tU.ERROR,...e)}}const eY=(e,t)=>t.some(t=>e instanceof t),eX=new WeakMap,eQ=new WeakMap,eZ=new WeakMap,e0=new WeakMap,e1=new WeakMap;let e2={get(e,t,i){if(e instanceof IDBTransaction){if("done"===t)return eQ.get(e);if("objectStoreNames"===t)return e.objectStoreNames||eZ.get(e);if("store"===t)return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return e9(e[t])},set:(e,t,i)=>(e[t]=i,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function e9(i){var r;if(i instanceof IDBRequest)return function(e){let t=new Promise((t,i)=>{let r=()=>{e.removeEventListener("success",n),e.removeEventListener("error",s)},n=()=>{t(e9(e.result)),r()},s=()=>{i(e.error),r()};e.addEventListener("success",n),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&eX.set(t,e)}).catch(()=>{}),e1.set(t,e),t}(i);if(e0.has(i))return e0.get(i);let n="function"==typeof(r=i)?r!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(t||(t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(r)?function(...e){return r.apply(e4(this),e),e9(eX.get(this))}:function(...e){return e9(r.apply(e4(this),e))}:function(e,...t){let i=r.call(e4(this),e,...t);return eZ.set(i,e.sort?e.sort():[e]),e9(i)}:(r instanceof IDBTransaction&&function(e){if(eQ.has(e))return;let t=new Promise((t,i)=>{let r=()=>{e.removeEventListener("complete",n),e.removeEventListener("error",s),e.removeEventListener("abort",s)},n=()=>{t(),r()},s=()=>{i(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",n),e.addEventListener("error",s),e.addEventListener("abort",s)});eQ.set(e,t)}(r),eY(r,e||(e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(r,e2):r;return n!==i&&(e0.set(i,n),e1.set(n,i)),n}const e4=e=>e1.get(e),e6=["get","getKey","getAll","getAllKeys","count"],e5=["put","add","delete","clear"],e3=new Map;function e7(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(e3.get(t))return e3.get(t);let i=t.replace(/FromIndex$/,""),r=t!==i,n=e5.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(n||e6.includes(i)))return;let s=async function(e,...t){let s=this.transaction(e,n?"readwrite":"readonly"),o=s.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[i](...t),n&&s.done]))[0]};return e3.set(t,s),s}e2={...tS=e2,get:(e,t,i)=>e7(e,t)||tS.get(e,t,i),has:(e,t)=>!!e7(e,t)||tS.has(e,t)};class e8{constructor(e){this.container=e}getPlatformInfoString(){let e=this.container.getProviders();return e.map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}const te="@firebase/app",tt="0.9.16",ti=new eJ("@firebase/app"),tr="[DEFAULT]",tn={[te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ts=new Map,to=new Map;function ta(e){let t=e.name;if(to.has(t))return ti.debug(`There were multiple attempts to register component ${t}.`),!1;for(let i of(to.set(t,e),ts.values()))!function(e,t){try{e.container.addComponent(t)}catch(i){ti.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,i)}}(i,e);return!0}function tl(e,t){let i=e.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),e.container.getProvider(t)}const th=new eO("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class tu{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new e$("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw th.create("app-deleted",{appName:this._name})}}const tc="10.2.0";function td(e,t={}){let i=e;if("object"!=typeof t){let e=t;t={name:e}}let r=Object.assign({name:tr,automaticDataCollectionEnabled:!1},t),n=r.name;if("string"!=typeof n||!n)throw th.create("bad-app-name",{appName:String(n)});if(i||(i=eS()),!i)throw th.create("no-options");let s=ts.get(n);if(s){if(eN(i,s.options)&&eN(r,s.config))return s;throw th.create("duplicate-app",{appName:n})}let o=new eB(n);for(let e of to.values())o.addComponent(e);let a=new tu(i,r,o);return ts.set(n,a),a}function tf(e=tr){let t=ts.get(e);if(!t&&e===tr&&eS())return td();if(!t)throw th.create("no-app",{appName:e});return t}function tp(e,t,i){var r;let n=null!==(r=tn[e])&&void 0!==r?r:e;i&&(n+=`-${i}`);let s=n.match(/\s|\//),o=t.match(/\s|\//);if(s||o){let e=[`Unable to register library "${n}" with version "${t}":`];s&&e.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ti.warn(e.join(" "));return}ta(new e$(`${n}-version`,()=>({library:n,version:t}),"VERSION"))}const tg="firebase-heartbeat-store";let tm=null;function tv(){return tm||(tm=(function(e,t,{blocked:i,upgrade:r,blocking:n,terminated:s}={}){let o=indexedDB.open(e,1),a=e9(o);return r&&o.addEventListener("upgradeneeded",e=>{r(e9(o.result),e.oldVersion,e.newVersion,e9(o.transaction),e)}),i&&o.addEventListener("blocked",e=>i(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),n&&e.addEventListener("versionchange",e=>n(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{0===t&&e.createObjectStore(tg)}}).catch(e=>{throw th.create("idb-open",{originalErrorMessage:e.message})})),tm}async function ty(e){try{let t=await tv(),i=await t.transaction(tg).objectStore(tg).get(t_(e));return i}catch(e){if(e instanceof eA)ti.warn(e.message);else{let t=th.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});ti.warn(t.message)}}}async function tw(e,t){try{let i=await tv(),r=i.transaction(tg,"readwrite"),n=r.objectStore(tg);await n.put(t,t_(e)),await r.done}catch(e){if(e instanceof eA)ti.warn(e.message);else{let t=th.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});ti.warn(t.message)}}}function t_(e){return`${e.name}!${e.options.appId}`}class tb{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new tE(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){let e=this.container.getProvider("platform-logger").getImmediate(),t=e.getPlatformInfoString(),i=tI();return(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(e=>e.date===i))?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf(),i=Date.now();return i-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";let e=tI(),{heartbeatsToSend:t,unsentEntries:i}=function(e,t=1024){let i=[],r=e.slice();for(let n of e){let e=i.find(e=>e.agent===n.agent);if(e){if(e.dates.push(n.date),tT(i)>t){e.dates.pop();break}}else if(i.push({agent:n.agent,dates:[n.date]}),tT(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=ev(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function tI(){let e=new Date;return e.toISOString().substring(0,10)}class tE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let i=!0,r="validate-browser-context-for-indexeddb-analytics-module",n=self.indexedDB.open(r);n.onsuccess=()=>{n.result.close(),i||self.indexedDB.deleteDatabase(r),e(!0)},n.onupgradeneeded=()=>{i=!1},n.onerror=()=>{var e;t((null===(e=n.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}).then(()=>!0).catch(()=>!1)}async read(){let e=await this._canUseIndexedDBPromise;if(!e)return{heartbeats:[]};{let e=await ty(this.app);return e||{heartbeats:[]}}}async overwrite(e){var t;let i=await this._canUseIndexedDBPromise;if(i){let i=await this.read();return tw(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;let i=await this._canUseIndexedDBPromise;if(i){let i=await this.read();return tw(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}}}function tT(e){return ev(JSON.stringify({version:2,heartbeats:e})).length}ta(new e$("platform-logger",e=>new e8(e),"PRIVATE")),ta(new e$("heartbeat",e=>new tb(e),"PRIVATE")),tp(te,tt,""),tp(te,tt,"esm2017"),tp("fire-js","");var tS,tk,tC,tR,tA,tO,tP,tN,tD,tL,tM,tx,tU,tj,tF="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==M?M:"undefined"!=typeof self?self:{},t$={},tV=tV||{},tH=tF||self;function tB(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function tz(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function tW(e,t,i){return e.call.apply(e.bind,arguments)}function tK(e,t,i){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function tG(e,t,i){return(tG=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tW:tK).apply(null,arguments)}function tq(e,t){var i=Array.prototype.slice.call(arguments,1);return function(){var t=i.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function tJ(e,t){function i(){}i.prototype=t.prototype,e.$=t.prototype,e.prototype=new i,e.prototype.constructor=e,e.ac=function(e,i,r){for(var n=Array(arguments.length-2),s=2;s<arguments.length;s++)n[s-2]=arguments[s];return t.prototype[i].apply(e,n)}}function tY(){this.s=this.s,this.o=this.o}tY.prototype.s=!1,tY.prototype.sa=function(){this.s||(this.s=!0,this.N())},tY.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const tX=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let i=0;i<e.length;i++)if(i in e&&e[i]===t)return i;return -1};function tQ(e){let t=e.length;if(0<t){let i=Array(t);for(let r=0;r<t;r++)i[r]=e[r];return i}return[]}function tZ(e,t){for(let t=1;t<arguments.length;t++){let i=arguments[t];if(tB(i)){let t=e.length||0,r=i.length||0;e.length=t+r;for(let n=0;n<r;n++)e[t+n]=i[n]}else e.push(i)}}function t0(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}t0.prototype.h=function(){this.defaultPrevented=!0};var t1=function(){if(!tH.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{tH.addEventListener("test",()=>{},t),tH.removeEventListener("test",()=>{},t)}catch(e){}return e}();function t2(e){return/^[\s\xa0]*$/.test(e)}function t9(){var e=tH.navigator;return e&&(e=e.userAgent)?e:""}function t4(e){return -1!=t9().indexOf(e)}function t6(e){return t6[" "](e),e}t6[" "]=function(){};var t5=t4("Opera"),t3=t4("Trident")||t4("MSIE"),t7=t4("Edge"),t8=t7||t3,ie=t4("Gecko")&&!(-1!=t9().toLowerCase().indexOf("webkit")&&!t4("Edge"))&&!(t4("Trident")||t4("MSIE"))&&!t4("Edge"),it=-1!=t9().toLowerCase().indexOf("webkit")&&!t4("Edge");function ii(){var e=tH.document;return e?e.documentMode:void 0}e:{var ir,is="",io=(ir=t9(),ie?/rv:([^\);]+)(\)|;)/.exec(ir):t7?/Edge\/([\d\.]+)/.exec(ir):t3?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ir):it?/WebKit\/(\S+)/.exec(ir):t5?/(?:Version)[ \/]?(\S+)/.exec(ir):void 0);if(io&&(is=io?io[1]:""),t3){var ia=ii();if(null!=ia&&ia>parseFloat(is)){R=String(ia);break e}}R=is}var il=tH.document&&t3&&(ii()||parseInt(R,10))||void 0;function ih(e,t){if(t0.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var i=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ie){e:{try{t6(t.nodeName);var n=!0;break e}catch(e){}n=!1}n||(t=null)}}else"mouseover"==i?t=e.fromElement:"mouseout"==i&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:iu[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ih.$.h.call(this)}}tJ(ih,t0);var iu={2:"touch",3:"pen",4:"mouse"};ih.prototype.h=function(){ih.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ic="closure_listenable_"+(1e6*Math.random()|0),id=0;function ip(e,t,i,r,n){this.listener=e,this.proxy=null,this.src=t,this.type=i,this.capture=!!r,this.la=n,this.key=++id,this.fa=this.ia=!1}function ig(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function im(e,t,i){for(let r in e)t.call(i,e[r],r,e)}function iv(e){let t={};for(let i in e)t[i]=e[i];return t}const iy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iw(e,t){let i,r;for(let t=1;t<arguments.length;t++){for(i in r=arguments[t])e[i]=r[i];for(let t=0;t<iy.length;t++)i=iy[t],Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}}function i_(e){this.src=e,this.g={},this.h=0}function ib(e,t){var i=t.type;if(i in e.g){var r,n=e.g[i],s=tX(n,t);(r=0<=s)&&Array.prototype.splice.call(n,s,1),r&&(ig(t),0==e.g[i].length&&(delete e.g[i],e.h--))}}function iI(e,t,i,r){for(var n=0;n<e.length;++n){var s=e[n];if(!s.fa&&s.listener==t&&!!i==s.capture&&s.la==r)return n}return -1}i_.prototype.add=function(e,t,i,r,n){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=iI(e,t,r,n);return -1<o?(t=e[o],i||(t.ia=!1)):((t=new ip(t,this.src,s,!!r,n)).ia=i,e.push(t)),t};var iE="closure_lm_"+(1e6*Math.random()|0),iT={};function iS(e,t,i,r,n,s){if(!t)throw Error("Invalid event type");var o=tz(n)?!!n.capture:!!n,a=iA(e);if(a||(e[iE]=a=new i_(e)),(i=a.add(t,i,r,o,s)).proxy)return i;if(r=function e(t){return iR.call(e.src,e.listener,t)},i.proxy=r,r.src=e,r.listener=i,e.addEventListener)t1||(n=o),void 0===n&&(n=!1),e.addEventListener(t.toString(),r,n);else if(e.attachEvent)e.attachEvent(iC(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return i}function ik(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[ic])ib(t.i,e);else{var i=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(i,r,e.capture):t.detachEvent?t.detachEvent(iC(i),r):t.addListener&&t.removeListener&&t.removeListener(r),(i=iA(t))?(ib(i,e),0==i.h&&(i.src=null,t[iE]=null)):ig(e)}}}function iC(e){return e in iT?iT[e]:iT[e]="on"+e}function iR(e,t){if(e.fa)e=!0;else{t=new ih(t,this);var i=e.listener,r=e.la||e.src;e.ia&&ik(e),e=i.call(r,t)}return e}function iA(e){return(e=e[iE])instanceof i_?e:null}var iO="__closure_events_fn_"+(1e9*Math.random()>>>0);function iP(e){return"function"==typeof e?e:(e[iO]||(e[iO]=function(t){return e.handleEvent(t)}),e[iO])}function iN(){tY.call(this),this.i=new i_(this),this.S=this,this.J=null}function iD(e,t){var i,r=e.J;if(r)for(i=[];r;r=r.J)i.push(r);if(e=e.S,r=t.type||t,"string"==typeof t)t=new t0(t,e);else if(t instanceof t0)t.target=t.target||e;else{var n=t;iw(t=new t0(r,e),n)}if(n=!0,i)for(var s=i.length-1;0<=s;s--){var o=t.g=i[s];n=iL(o,r,!0,t)&&n}if(n=iL(o=t.g=e,r,!0,t)&&n,n=iL(o,r,!1,t)&&n,i)for(s=0;s<i.length;s++)n=iL(o=t.g=i[s],r,!1,t)&&n}function iL(e,t,i,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var n=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==i){var a=o.listener,l=o.la||o.src;o.ia&&ib(e.i,o),n=!1!==a.call(l,r)&&n}}return n&&!r.defaultPrevented}tJ(iN,tY),iN.prototype[ic]=!0,iN.prototype.removeEventListener=function(e,t,i,r){!function e(t,i,r,n,s){if(Array.isArray(i))for(var o=0;o<i.length;o++)e(t,i[o],r,n,s);else(n=tz(n)?!!n.capture:!!n,r=iP(r),t&&t[ic])?(t=t.i,(i=String(i).toString())in t.g&&-1<(r=iI(o=t.g[i],r,n,s))&&(ig(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete t.g[i],t.h--))):t&&(t=iA(t))&&(i=t.g[i.toString()],t=-1,i&&(t=iI(i,r,n,s)),(r=-1<t?i[t]:null)&&ik(r))}(this,e,t,i,r)},iN.prototype.N=function(){if(iN.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var i=t.g[e],r=0;r<i.length;r++)ig(i[r]);delete t.g[e],t.h--}}this.J=null},iN.prototype.O=function(e,t,i,r){return this.i.add(String(e),t,!1,i,r)},iN.prototype.P=function(e,t,i,r){return this.i.add(String(e),t,!0,i,r)};var iM=tH.JSON.stringify,ix=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new iU,e=>e.reset());class iU{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let ij,iF=!1,i$=new class{constructor(){this.h=this.g=null}add(e,t){let i=ix.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},iV=()=>{let e=tH.Promise.resolve(void 0);ij=()=>{e.then(iH)}};var iH=()=>{let e;for(var t;e=null,i$.g&&(e=i$.g,i$.g=i$.g.next,i$.g||(i$.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(e){!function(e){tH.setTimeout(()=>{throw e},0)}(e)}ix.j(t),100>ix.h&&(ix.h++,t.next=ix.g,ix.g=t)}iF=!1};function iB(e,t){iN.call(this),this.h=e||1,this.g=t||tH,this.j=tG(this.qb,this),this.l=Date.now()}function iz(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function iW(e,t,i){if("function"==typeof e)i&&(e=tG(e,i));else if(e&&"function"==typeof e.handleEvent)e=tG(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:tH.setTimeout(e,t||0)}tJ(iB,iN),(tj=iB.prototype).ga=!1,tj.T=null,tj.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),iD(this,"tick"),this.ga&&(iz(this),this.start()))}},tj.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tj.N=function(){iB.$.N.call(this),iz(this),delete this.g};class iK extends tY{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=iW(()=>{t.g=null,t.i&&(t.i=!1,e(t))},t.j);let i=t.h;t.h=null,t.m.apply(null,i)}(this)}N(){super.N(),this.g&&(tH.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function iG(e){tY.call(this),this.h=e,this.g={}}tJ(iG,tY);var iq=[];function iJ(e,t,i,r){Array.isArray(i)||(i&&(iq[0]=i.toString()),i=iq);for(var n=0;n<i.length;n++){var s=function e(t,i,r,n,s){if(n&&n.once)return function e(t,i,r,n,s){if(Array.isArray(i)){for(var o=0;o<i.length;o++)e(t,i[o],r,n,s);return null}return r=iP(r),t&&t[ic]?t.P(i,r,tz(n)?!!n.capture:!!n,s):iS(t,i,r,!0,n,s)}(t,i,r,n,s);if(Array.isArray(i)){for(var o=0;o<i.length;o++)e(t,i[o],r,n,s);return null}return r=iP(r),t&&t[ic]?t.O(i,r,tz(n)?!!n.capture:!!n,s):iS(t,i,r,!1,n,s)}(t,i[n],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function iY(e){im(e.g,function(e,t){this.g.hasOwnProperty(t)&&ik(e)},e),e.g={}}function iX(){this.g=!0}function iQ(e,t,i,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var i=JSON.parse(t);if(i){for(e=0;e<i.length;e++)if(Array.isArray(i[e])){var r=i[e];if(!(2>r.length)){var n=r[1];if(Array.isArray(n)&&!(1>n.length)){var s=n[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<n.length;o++)n[o]=""}}}}return iM(i)}catch(e){return t}}(e,i)+(r?" "+r:"")})}iG.prototype.N=function(){iG.$.N.call(this),iY(this)},iG.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},iX.prototype.Ea=function(){this.g=!1},iX.prototype.info=function(){};var iZ={},i0=null;function i1(){return i0=i0||new iN}function i2(e){t0.call(this,iZ.Ta,e)}function i9(e){let t=i1();iD(t,new i2(t))}function i4(e,t){t0.call(this,iZ.STAT_EVENT,e),this.stat=t}function i6(e){let t=i1();iD(t,new i4(t,e))}function i5(e,t){t0.call(this,iZ.Ua,e),this.size=t}function i3(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return tH.setTimeout(function(){e()},t)}iZ.Ta="serverreachability",tJ(i2,t0),iZ.STAT_EVENT="statevent",tJ(i4,t0),iZ.Ua="timingevent",tJ(i5,t0);var i7={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},i8={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function re(){}function rt(e){return e.h||(e.h=e.i())}function ri(){}re.prototype.h=null;var rr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function rn(){t0.call(this,"d")}function rs(){t0.call(this,"c")}function ro(){}function ra(e,t,i,r){this.l=e,this.j=t,this.m=i,this.W=r||1,this.U=new iG(this),this.P=rh,e=t8?125:void 0,this.V=new iB(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new rl}function rl(){this.i=null,this.g="",this.h=!1}tJ(rn,t0),tJ(rs,t0),tJ(ro,re),ro.prototype.g=function(){return new XMLHttpRequest},ro.prototype.i=function(){return{}},O=new ro;var rh=45e3,ru={},rc={};function rd(e,t,i){e.L=1,e.v=rO(rS(t)),e.s=i,e.S=!0,rf(e,null)}function rf(e,t){e.G=Date.now(),rm(e),e.A=rS(e.v);var i=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),rB(i.i,"t",r),e.C=0,i=e.l.J,e.h=new rl,e.g=nN(e.l,i?t:null,!e.s),0<e.O&&(e.M=new iK(tG(e.Pa,e,e.g),e.O)),iJ(e.U,e.g,"readystatechange",e.nb),t=e.I?iv(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),i9(),function(e,t,i,r,n,s){e.info(function(){if(e.g){if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var h=a[l].split("=");if(1<h.length){var u=h[0];h=h[1];var c=u.split("_");o=2<=c.length&&"type"==c[1]?o+(u+"=")+h+"&":o+(u+"=redacted&")}}else o=null}else o=s;return"XMLHTTP REQ ("+r+") [attempt "+n+"]: "+t+"\n"+i+"\n"+o})}(e.j,e.u,e.A,e.m,e.W,e.s)}function rp(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.l.Ha}function rg(e,t,i){let r=!0,n;for(;!e.J&&e.C<i.length;)if((n=function(e,t){var i=e.C,r=t.indexOf("\n",i);return -1==r?rc:isNaN(i=Number(t.substring(i,r)))?ru:(r+=1)+i>t.length?rc:(t=t.slice(r,r+i),e.C=r+i,t)}(e,i))==rc){4==t&&(e.o=4,i6(14),r=!1),iQ(e.j,e.m,null,"[Incomplete Response]");break}else if(n==ru){e.o=4,i6(15),iQ(e.j,e.m,i,"[Invalid Chunk]"),r=!1;break}else iQ(e.j,e.m,n,null),rb(e,n);rp(e)&&n!=rc&&n!=ru&&(e.h.g="",e.C=0),4!=t||0!=i.length||e.h.h||(e.o=1,i6(16),r=!1),e.i=e.i&&r,r?0<i.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+i.length),nT(t),t.M=!0,i6(11))):(iQ(e.j,e.m,i,"[Invalid Chunked Response]"),r_(e),rw(e))}function rm(e){e.Y=Date.now()+e.P,rv(e,e.P)}function rv(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=i3(tG(e.lb,e),t)}function ry(e){e.B&&(tH.clearTimeout(e.B),e.B=null)}function rw(e){0==e.l.H||e.J||nC(e.l,e)}function r_(e){ry(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,iz(e.V),iY(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function rb(e,t){try{var i=e.l;if(0!=i.H&&(i.g==e||rY(i.i,e))){if(!e.K&&rY(i.i,e)&&3==i.H){try{var r=i.Ja.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var n=r;if(0==n[0]){e:if(!i.u){if(i.g){if(i.g.G+3e3<e.G)nk(i),nm(i);else break e}nE(i),i6(18)}}else i.Fa=n[1],0<i.Fa-i.V&&37500>n[2]&&i.G&&0==i.A&&!i.v&&(i.v=i3(tG(i.ib,i),6e3));if(1>=rJ(i.i)&&i.oa){try{i.oa()}catch(e){}i.oa=void 0}}else nA(i,11)}else if((e.K||i.g==e)&&nk(i),!t2(t))for(n=i.Ja.g.parse(t),t=0;t<n.length;t++){let a=n[t];if(i.V=a[0],a=a[1],2==i.H){if("c"==a[0]){i.K=a[1],i.pa=a[2];let t=a[3];null!=t&&(i.ra=t,i.l.info("VER="+i.ra));let n=a[4];null!=n&&(i.Ga=n,i.l.info("SVER="+i.Ga));let l=a[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,i.L=r,i.l.info("backChannelRequestTimeoutMs_="+r)),r=i;let h=e.g;if(h){let e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(rX(s,s.h),s.h=null))}if(r.F){let e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,rA(r.I,r.F,e))}}if(i.H=3,i.h&&i.h.Ba(),i.ca&&(i.S=Date.now()-e.G,i.l.info("Handshake RTT: "+i.S+"ms")),(r=i).wa=nP(r,r.J?r.pa:null,r.Y),e.K){rQ(r.i,e);var o=r.L;o&&e.setTimeout(o),e.B&&(ry(e),rm(e)),r.g=e}else nI(r);0<i.j.length&&ny(i)}else"stop"!=a[0]&&"close"!=a[0]||nA(i,7)}else 3==i.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?nA(i,7):ng(i):"noop"!=a[0]&&i.h&&i.h.Aa(a),i.A=0)}}i9(4)}catch(e){}}function rI(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(tB(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var i=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(tB(e)||"string"==typeof e){var t=[];e=e.length;for(var i=0;i<e;i++)t.push(i);return t}for(let r in t=[],i=0,e)t[i++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(tB(e)){for(var t=[],i=e.length,r=0;r<i;r++)t.push(e[r]);return t}for(r in t=[],i=0,e)t[i++]=e[r];return t}(e),n=r.length,s=0;s<n;s++)t.call(void 0,r[s],i&&i[s],e)}(tj=ra.prototype).setTimeout=function(e){this.P=e},tj.nb=function(e){e=e.target;let t=this.M;t&&3==nh(e)?t.l():this.Pa(e)},tj.Pa=function(e){try{if(e==this.g)e:{let u=nh(this.g);var t=this.g.Ia();let c=this.g.da();if(!(3>u)&&(3!=u||t8||this.g&&(this.h.h||this.g.ja()||nu(this.g)))){this.J||4!=u||7==t||(8==t||0>=c?i9(3):i9(2)),ry(this);var i=this.g.da();this.ca=i;t:if(rp(this)){var r=nu(this.g);e="";var n=r.length,s=4==nh(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){r_(this),rw(this);var o="";break t}this.h.i=new tH.TextDecoder}for(t=0;t<n;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==n-1});r.splice(0,n),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==i,function(e,t,i,r,n,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+n+"]: "+t+"\n"+i+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,i),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!t2(a)){var h=a;break t}}h=null}if(i=h)iQ(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rb(this,i);else{this.i=!1,this.o=3,i6(12),r_(this),rw(this);break e}}this.S?(rg(this,u,o),t8&&this.i&&3==u&&(iJ(this.U,this.V,"tick",this.mb),this.V.start())):(iQ(this.j,this.m,o,null),rb(this,o)),4==u&&r_(this),this.i&&!this.J&&(4==u?nC(this.l,this):(this.i=!1,rm(this)))}else(function(e){let t={};e=(e.g&&2<=nh(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(t2(e[r]))continue;var i=function(e){var t=1;e=e.split(":");let i=[];for(;0<t&&e.length;)i.push(e.shift()),t--;return e.length&&i.push(e.join(":")),i}(e[r]);let n=i[0];if("string"!=typeof(i=i[1]))continue;i=i.trim();let s=t[n]||[];t[n]=s,s.push(i)}!function(e,t){for(let i in e)t.call(void 0,e[i],i,e)}(t,function(e){return e.join(", ")})})(this.g),400==i&&0<o.indexOf("Unknown SID")?(this.o=3,i6(12)):(this.o=0,i6(13)),r_(this),rw(this)}}}catch(e){}finally{}},tj.mb=function(){if(this.g){var e=nh(this.g),t=this.g.ja();this.C<t.length&&(ry(this),rg(this,e,t),this.i&&4!=e&&rm(this))}},tj.cancel=function(){this.J=!0,r_(this)},tj.lb=function(){this.B=null;let e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(i9(),i6(17)),r_(this),this.o=2,rw(this)):rv(this,this.Y-e)};var rE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rT(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof rT){this.h=e.h,rk(this,e.j),this.s=e.s,this.g=e.g,rC(this,e.m),this.l=e.l;var t=e.i,i=new rF;i.i=t.i,t.g&&(i.g=new Map(t.g),i.h=t.h),rR(this,i),this.o=e.o}else e&&(t=String(e).match(rE))?(this.h=!1,rk(this,t[1]||"",!0),this.s=rP(t[2]||""),this.g=rP(t[3]||"",!0),rC(this,t[4]),this.l=rP(t[5]||"",!0),rR(this,t[6]||"",!0),this.o=rP(t[7]||"")):(this.h=!1,this.i=new rF(null,this.h))}function rS(e){return new rT(e)}function rk(e,t,i){e.j=i?rP(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function rC(e,t){if(t){if(isNaN(t=Number(t))||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function rR(e,t,i){var r,n;t instanceof rF?(e.i=t,r=e.i,(n=e.h)&&!r.j&&(r$(r),r.i=null,r.g.forEach(function(e,t){var i=t.toLowerCase();t!=i&&(rV(this,t),rB(this,i,e))},r)),r.j=n):(i||(t=rN(t,rU)),e.i=new rF(t,e.h))}function rA(e,t,i){e.i.set(t,i)}function rO(e){return rA(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function rP(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function rN(e,t,i){return"string"==typeof e?(e=encodeURI(e).replace(t,rD),i&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function rD(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}rT.prototype.toString=function(){var e=[],t=this.j;t&&e.push(rN(t,rL,!0),":");var i=this.g;return(i||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(rN(t,rL,!0),"@"),e.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&e.push(":",String(i))),(i=this.l)&&(this.g&&"/"!=i.charAt(0)&&e.push("/"),e.push(rN(i,"/"==i.charAt(0)?rx:rM,!0))),(i=this.i.toString())&&e.push("?",i),(i=this.o)&&e.push("#",rN(i,rj)),e.join("")};var rL=/[#\/\?@]/g,rM=/[#\?:]/g,rx=/[#\?]/g,rU=/[#\?@]/g,rj=/#/g;function rF(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function r$(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var i=0;i<e.length;i++){var r=e[i].indexOf("="),n=null;if(0<=r){var s=e[i].substring(0,r);n=e[i].substring(r+1)}else s=e[i];t(s,n?decodeURIComponent(n.replace(/\+/g," ")):"")}}}(e.i,function(t,i){e.add(decodeURIComponent(t.replace(/\+/g," ")),i)}))}function rV(e,t){r$(e),t=rz(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function rH(e,t){return r$(e),t=rz(e,t),e.g.has(t)}function rB(e,t,i){rV(e,t),0<i.length&&(e.i=null,e.g.set(rz(e,t),tQ(i)),e.h+=i.length)}function rz(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(tj=rF.prototype).add=function(e,t){r$(this),this.i=null,e=rz(this,e);var i=this.g.get(e);return i||this.g.set(e,i=[]),i.push(t),this.h+=1,this},tj.forEach=function(e,t){r$(this),this.g.forEach(function(i,r){i.forEach(function(i){e.call(t,i,r,this)},this)},this)},tj.ta=function(){r$(this);let e=Array.from(this.g.values()),t=Array.from(this.g.keys()),i=[];for(let r=0;r<t.length;r++){let n=e[r];for(let e=0;e<n.length;e++)i.push(t[r])}return i},tj.Z=function(e){r$(this);let t=[];if("string"==typeof e)rH(this,e)&&(t=t.concat(this.g.get(rz(this,e))));else{e=Array.from(this.g.values());for(let i=0;i<e.length;i++)t=t.concat(e[i])}return t},tj.set=function(e,t){return r$(this),this.i=null,rH(this,e=rz(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},tj.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},tj.toString=function(){if(this.i)return this.i;if(!this.g)return"";let e=[],t=Array.from(this.g.keys());for(var i=0;i<t.length;i++){var r=t[i];let s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var n=s;""!==o[r]&&(n+="="+encodeURIComponent(String(o[r]))),e.push(n)}}return this.i=e.join("&")};var rW=class{constructor(e,t){this.g=e,this.map=t}};function rK(e){this.l=e||rG,e=tH.PerformanceNavigationTiming?0<(e=tH.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(tH.g&&tH.g.Ka&&tH.g.Ka()&&tH.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rG=10;function rq(e){return!!e.h||!!e.g&&e.g.size>=e.j}function rJ(e){return e.h?1:e.g?e.g.size:0}function rY(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function rX(e,t){e.g?e.g.add(t):e.h=t}function rQ(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function rZ(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(let i of e.g.values())t=t.concat(i.F);return t}return tQ(e.i)}rK.prototype.cancel=function(){if(this.i=rZ(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(let e of this.g.values())e.cancel();this.g.clear()}};var r0=class{stringify(e){return tH.JSON.stringify(e,void 0)}parse(e){return tH.JSON.parse(e,void 0)}};function r1(){this.g=new r0}function r2(e,t,i,r,n){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,n(r)}catch(e){}}function r9(e){this.l=e.fc||null,this.j=e.ob||!1}function r4(e,t){iN.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=r6,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}tJ(r9,re),r9.prototype.g=function(){return new r4(this.l,this.j)},r9.prototype.i=(T={},function(){return T}),tJ(r4,iN);var r6=0;function r5(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function r3(e){e.readyState=4,e.l=null,e.j=null,e.A=null,r7(e)}function r7(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(tj=r4.prototype).open=function(e,t){if(this.readyState!=r6)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,r7(this)},tj.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;let t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||tH).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},tj.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,r3(this)),this.readyState=r6},tj.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,r7(this)),this.g&&(this.readyState=3,r7(this),this.g))){if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==tH.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;r5(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))}},tj.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?r3(this):r7(this),3==this.readyState&&r5(this)}},tj.Za=function(e){this.g&&(this.response=this.responseText=e,r3(this))},tj.Ya=function(e){this.g&&(this.response=e,r3(this))},tj.ka=function(){this.g&&r3(this)},tj.setRequestHeader=function(e,t){this.v.append(e,t)},tj.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},tj.getAllResponseHeaders=function(){if(!this.h)return"";let e=[],t=this.h.entries();for(var i=t.next();!i.done;)e.push((i=i.value)[0]+": "+i[1]),i=t.next();return e.join("\r\n")},Object.defineProperty(r4.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var r8=tH.JSON.parse;function ne(e){iN.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=nt,this.L=this.M=!1}tJ(ne,iN);var nt="",ni=/^https?$/i,nr=["POST","PUT"];function nn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ns(e),na(e)}function ns(e){e.F||(e.F=!0,iD(e,"complete"),iD(e,"error"))}function no(e){if(e.h&&void 0!==tV&&(!e.C[1]||4!=nh(e)||2!=e.da())){if(e.v&&4==nh(e))iW(e.La,0,e);else if(iD(e,"readystatechange"),4==nh(e)){e.h=!1;try{let o=e.da();switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t,i,r=!0;break;default:r=!1}if(!(t=r)){if(i=0===o){var n=String(e.I).match(rE)[1]||null;!n&&tH.self&&tH.self.location&&(n=tH.self.location.protocol.slice(0,-1)),i=!ni.test(n?n.toLowerCase():"")}t=i}if(t)iD(e,"complete"),iD(e,"success");else{e.m=6;try{var s=2<nh(e)?e.g.statusText:""}catch(e){s=""}e.j=s+" ["+e.da()+"]",ns(e)}}finally{na(e)}}}}function na(e,t){if(e.g){nl(e);let i=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||iD(e,"ready");try{i.onreadystatechange=r}catch(e){}}}function nl(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(tH.clearTimeout(e.A),e.A=null)}function nh(e){return e.g?e.g.readyState:0}function nu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case nt:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function nc(e){let t="";return im(e,function(e,i){t+=i+":"+e+"\r\n"}),t}function nd(e,t,i){e:{for(r in i){var r=!1;break e}r=!0}r||(i=nc(i),"string"==typeof e?null!=i&&encodeURIComponent(String(i)):rA(e,t,i))}function nf(e,t,i){return i&&i.internalChannelParams&&i.internalChannelParams[e]||t}function np(e){this.Ga=0,this.j=[],this.l=new iX,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=nf("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=nf("baseRetryDelayMs",5e3,e),this.hb=nf("retryDelaySeedMs",1e4,e),this.eb=nf("forwardChannelMaxRetries",2,e),this.xa=nf("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new rK(e&&e.concurrentRequestLimit),this.Ja=new r1,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ng(e){if(nv(e),3==e.H){var t=e.W++,i=rS(e.I);if(rA(i,"SID",e.K),rA(i,"RID",t),rA(i,"TYPE","terminate"),n_(e,i),(t=new ra(e,e.l,t)).L=2,t.v=rO(rS(i)),i=!1,tH.navigator&&tH.navigator.sendBeacon)try{i=tH.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!i&&tH.Image&&((new Image).src=t.v,i=!0),i||(t.g=nN(t.l,null),t.g.ha(t.v)),t.G=Date.now(),rm(t)}nO(e)}function nm(e){e.g&&(nT(e),e.g.cancel(),e.g=null)}function nv(e){nm(e),e.u&&(tH.clearTimeout(e.u),e.u=null),nk(e),e.i.cancel(),e.m&&("number"==typeof e.m&&tH.clearTimeout(e.m),e.m=null)}function ny(e){if(!rq(e.i)&&!e.m){e.m=!0;var t=e.Na;ij||iV(),iF||(ij(),iF=!0),i$.add(t,e),e.C=0}}function nw(e,t){var i;i=t?t.m:e.W++;let r=rS(e.I);rA(r,"SID",e.K),rA(r,"RID",i),rA(r,"AID",e.V),n_(e,r),e.o&&e.s&&nd(r,e.o,e.s),i=new ra(e,e.l,i,e.C+1),null===e.o&&(i.I=e.s),t&&(e.j=t.F.concat(e.j)),t=nb(e,i,1e3),i.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),rX(e.i,i),rd(i,r,t)}function n_(e,t){e.na&&im(e.na,function(e,i){rA(t,i,e)}),e.h&&rI({},function(e,i){rA(t,i,e)})}function nb(e,t,i){i=Math.min(e.j.length,i);var r=e.h?tG(e.h.Va,e.h,e):null;e:{var n=e.j;let t=-1;for(;;){let e=["count="+i];-1==t?0<i?(t=n[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<i;o++){let i=n[o].g,a=n[o].map;if(0>(i-=t))t=Math.max(0,n[o].g-100),s=!1;else try{!function(e,t,i){let r=i||"";try{rI(e,function(e,i){let n=e;tz(e)&&(n=iM(e)),t.push(r+i+"="+encodeURIComponent(n))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}(a,e,"req"+i+"_")}catch(e){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,i),t.F=e,r}function nI(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ij||iV(),iF||(ij(),iF=!0),i$.add(t,e),e.A=0}}function nE(e){return!e.g&&!e.u&&!(3<=e.A)&&(e.ba++,e.u=i3(tG(e.Ma,e),nR(e,e.A)),e.A++,!0)}function nT(e){null!=e.B&&(tH.clearTimeout(e.B),e.B=null)}function nS(e){e.g=new ra(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=rS(e.wa);rA(t,"RID","rpc"),rA(t,"SID",e.K),rA(t,"AID",e.V),rA(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&rA(t,"TO",e.qa),rA(t,"TYPE","xmlhttp"),n_(e,t),e.o&&e.s&&nd(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var i=e.g;e=e.pa,i.L=1,i.v=rO(rS(t)),i.s=null,i.S=!0,rf(i,e)}function nk(e){null!=e.v&&(tH.clearTimeout(e.v),e.v=null)}function nC(e,t){var i=null;if(e.g==t){nk(e),nT(e),e.g=null;var r=2}else{if(!rY(e.i,t))return;i=t.F,rQ(e.i,t),r=1}if(0!=e.H){if(t.i){if(1==r){i=t.s?t.s.length:0,t=Date.now()-t.G;var n,s=e.C;iD(r=i1(),new i5(r,i)),ny(e)}else nI(e)}else if(3==(s=t.o)||0==s&&0<t.ca||!(1==r&&(n=t,!(rJ(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=n.F.concat(e.j),!0):1!=e.H&&2!=e.H&&!(e.C>=(e.cb?0:e.eb))&&(e.m=i3(tG(e.Na,e,n),nR(e,e.C)),e.C++,!0)))||2==r&&nE(e)))switch(i&&0<i.length&&((t=e.i).i=t.i.concat(i)),s){case 1:nA(e,5);break;case 4:nA(e,10);break;case 3:nA(e,6);break;default:nA(e,2)}}}function nR(e,t){let i=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(i*=2),i*t}function nA(e,t){if(e.l.info("Error code "+t),2==t){var i=null;e.h&&(i=null);var r=tG(e.pb,e);i||(i=new rT("//www.google.com/images/cleardot.gif"),tH.location&&"http"==tH.location.protocol||rk(i,"https"),rO(i)),function(e,t){let i=new iX;if(tH.Image){let r=new Image;r.onload=tq(r2,i,r,"TestLoadImage: loaded",!0,t),r.onerror=tq(r2,i,r,"TestLoadImage: error",!1,t),r.onabort=tq(r2,i,r,"TestLoadImage: abort",!1,t),r.ontimeout=tq(r2,i,r,"TestLoadImage: timeout",!1,t),tH.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(i.toString(),r)}else i6(2);e.H=0,e.h&&e.h.za(t),nO(e),nv(e)}function nO(e){if(e.H=0,e.ma=[],e.h){let t=rZ(e.i);(0!=t.length||0!=e.j.length)&&(tZ(e.ma,t),tZ(e.ma,e.j),e.i.i.length=0,tQ(e.j),e.j.length=0),e.h.ya()}}function nP(e,t,i){var r=i instanceof rT?rS(i):new rT(i);if(""!=r.g)t&&(r.g=t+"."+r.g),rC(r,r.m);else{var n=tH.location;r=n.protocol,t=t?t+"."+n.hostname:n.hostname,n=+n.port;var s=new rT(null);r&&rk(s,r),t&&(s.g=t),n&&rC(s,n),i&&(s.l=i),r=s}return i=e.F,t=e.Da,i&&t&&rA(r,i,t),rA(r,"VER",e.ra),n_(e,r),r}function nN(e,t,i){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ne(i&&e.Ha&&!e.va?new r9({ob:!0}):e.va)).Oa(e.J),t}function nD(){}function nL(){if(t3&&!(10<=Number(il)))throw Error("Environmental error: no available transport.")}function nM(e,t){iN.call(this),this.g=new np(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!t2(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!t2(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new nj(this)}function nx(e){rn.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(let i in t){e=i;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function nU(){rs.call(this),this.status=1}function nj(e){this.g=e}function nF(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function n$(e,t,i){i||(i=0);var r=Array(16);if("string"==typeof t)for(var n=0;16>n;++n)r[n]=t.charCodeAt(i++)|t.charCodeAt(i++)<<8|t.charCodeAt(i++)<<16|t.charCodeAt(i++)<<24;else for(n=0;16>n;++n)r[n]=t[i++]|t[i++]<<8|t[i++]<<16|t[i++]<<24;t=e.g[0],i=e.g[1],n=e.g[2];var s=e.g[3],o=t+(s^i&(n^s))+r[0]+3614090360&4294967295;o=s+(n^(t=i+(o<<7&4294967295|o>>>25))&(i^n))+r[1]+3905402710&4294967295,o=n+(i^(s=t+(o<<12&4294967295|o>>>20))&(t^i))+r[2]+606105819&4294967295,o=i+(t^(n=s+(o<<17&4294967295|o>>>15))&(s^t))+r[3]+3250441966&4294967295,o=t+(s^(i=n+(o<<22&4294967295|o>>>10))&(n^s))+r[4]+4118548399&4294967295,o=s+(n^(t=i+(o<<7&4294967295|o>>>25))&(i^n))+r[5]+1200080426&4294967295,o=n+(i^(s=t+(o<<12&4294967295|o>>>20))&(t^i))+r[6]+2821735955&4294967295,o=i+(t^(n=s+(o<<17&4294967295|o>>>15))&(s^t))+r[7]+4249261313&4294967295,o=t+(s^(i=n+(o<<22&4294967295|o>>>10))&(n^s))+r[8]+1770035416&4294967295,o=s+(n^(t=i+(o<<7&4294967295|o>>>25))&(i^n))+r[9]+2336552879&4294967295,o=n+(i^(s=t+(o<<12&4294967295|o>>>20))&(t^i))+r[10]+4294925233&4294967295,o=i+(t^(n=s+(o<<17&4294967295|o>>>15))&(s^t))+r[11]+2304563134&4294967295,o=t+(s^(i=n+(o<<22&4294967295|o>>>10))&(n^s))+r[12]+1804603682&4294967295,o=s+(n^(t=i+(o<<7&4294967295|o>>>25))&(i^n))+r[13]+4254626195&4294967295,o=n+(i^(s=t+(o<<12&4294967295|o>>>20))&(t^i))+r[14]+2792965006&4294967295,o=i+(t^(n=s+(o<<17&4294967295|o>>>15))&(s^t))+r[15]+1236535329&4294967295,i=n+(o<<22&4294967295|o>>>10),o=t+(n^s&(i^n))+r[1]+4129170786&4294967295,t=i+(o<<5&4294967295|o>>>27),o=s+(i^n&(t^i))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=n+(t^i&(s^t))+r[11]+643717713&4294967295,n=s+(o<<14&4294967295|o>>>18),o=i+(s^t&(n^s))+r[0]+3921069994&4294967295,i=n+(o<<20&4294967295|o>>>12),o=t+(n^s&(i^n))+r[5]+3593408605&4294967295,t=i+(o<<5&4294967295|o>>>27),o=s+(i^n&(t^i))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=n+(t^i&(s^t))+r[15]+3634488961&4294967295,n=s+(o<<14&4294967295|o>>>18),o=i+(s^t&(n^s))+r[4]+3889429448&4294967295,i=n+(o<<20&4294967295|o>>>12),o=t+(n^s&(i^n))+r[9]+568446438&4294967295,t=i+(o<<5&4294967295|o>>>27),o=s+(i^n&(t^i))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=n+(t^i&(s^t))+r[3]+4107603335&4294967295,n=s+(o<<14&4294967295|o>>>18),o=i+(s^t&(n^s))+r[8]+1163531501&4294967295,i=n+(o<<20&4294967295|o>>>12),o=t+(n^s&(i^n))+r[13]+2850285829&4294967295,t=i+(o<<5&4294967295|o>>>27),o=s+(i^n&(t^i))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=n+(t^i&(s^t))+r[7]+1735328473&4294967295,n=s+(o<<14&4294967295|o>>>18),o=i+(s^t&(n^s))+r[12]+2368359562&4294967295,o=t+((i=n+(o<<20&4294967295|o>>>12))^n^s)+r[5]+4294588738&4294967295,o=s+((t=i+(o<<4&4294967295|o>>>28))^i^n)+r[8]+2272392833&4294967295,o=n+((s=t+(o<<11&4294967295|o>>>21))^t^i)+r[11]+1839030562&4294967295,o=i+((n=s+(o<<16&4294967295|o>>>16))^s^t)+r[14]+4259657740&4294967295,o=t+((i=n+(o<<23&4294967295|o>>>9))^n^s)+r[1]+2763975236&4294967295,o=s+((t=i+(o<<4&4294967295|o>>>28))^i^n)+r[4]+1272893353&4294967295,o=n+((s=t+(o<<11&4294967295|o>>>21))^t^i)+r[7]+4139469664&4294967295,o=i+((n=s+(o<<16&4294967295|o>>>16))^s^t)+r[10]+3200236656&4294967295,o=t+((i=n+(o<<23&4294967295|o>>>9))^n^s)+r[13]+681279174&4294967295,o=s+((t=i+(o<<4&4294967295|o>>>28))^i^n)+r[0]+3936430074&4294967295,o=n+((s=t+(o<<11&4294967295|o>>>21))^t^i)+r[3]+3572445317&4294967295,o=i+((n=s+(o<<16&4294967295|o>>>16))^s^t)+r[6]+76029189&4294967295,o=t+((i=n+(o<<23&4294967295|o>>>9))^n^s)+r[9]+3654602809&4294967295,o=s+((t=i+(o<<4&4294967295|o>>>28))^i^n)+r[12]+3873151461&4294967295,o=n+((s=t+(o<<11&4294967295|o>>>21))^t^i)+r[15]+530742520&4294967295,o=i+((n=s+(o<<16&4294967295|o>>>16))^s^t)+r[2]+3299628645&4294967295,i=n+(o<<23&4294967295|o>>>9),o=t+(n^(i|~s))+r[0]+4096336452&4294967295,t=i+(o<<6&4294967295|o>>>26),o=s+(i^(t|~n))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=n+(t^(s|~i))+r[14]+2878612391&4294967295,n=s+(o<<15&4294967295|o>>>17),o=i+(s^(n|~t))+r[5]+4237533241&4294967295,i=n+(o<<21&4294967295|o>>>11),o=t+(n^(i|~s))+r[12]+1700485571&4294967295,t=i+(o<<6&4294967295|o>>>26),o=s+(i^(t|~n))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=n+(t^(s|~i))+r[10]+4293915773&4294967295,n=s+(o<<15&4294967295|o>>>17),o=i+(s^(n|~t))+r[1]+2240044497&4294967295,i=n+(o<<21&4294967295|o>>>11),o=t+(n^(i|~s))+r[8]+1873313359&4294967295,t=i+(o<<6&4294967295|o>>>26),o=s+(i^(t|~n))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=n+(t^(s|~i))+r[6]+2734768916&4294967295,n=s+(o<<15&4294967295|o>>>17),o=i+(s^(n|~t))+r[13]+1309151649&4294967295,i=n+(o<<21&4294967295|o>>>11),o=t+(n^(i|~s))+r[4]+4149444226&4294967295,t=i+(o<<6&4294967295|o>>>26),o=s+(i^(t|~n))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=n+(t^(s|~i))+r[2]+718787259&4294967295,n=s+(o<<15&4294967295|o>>>17),o=i+(s^(n|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(n+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+n&4294967295,e.g[3]=e.g[3]+s&4294967295}function nV(e,t){this.h=t;for(var i=[],r=!0,n=e.length-1;0<=n;n--){var s=0|e[n];r&&s==t||(i[n]=s,r=!1)}this.g=i}(tj=ne.prototype).Oa=function(e){this.M=e},tj.ha=function(e,t,i,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():O.g(),this.C=this.u?rt(this.u):rt(O),this.g.onreadystatechange=tG(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(e){nn(this,e);return}if(e=i||"",i=new Map(this.headers),r){if(Object.getPrototypeOf(r)===Object.prototype)for(var n in r)i.set(n,r[n]);else if("function"==typeof r.keys&&"function"==typeof r.get)for(let e of r.keys())i.set(e,r.get(e));else throw Error("Unknown input type for opt_headers: "+String(r))}for(let[s,o]of(r=Array.from(i.keys()).find(e=>"content-type"==e.toLowerCase()),n=tH.FormData&&e instanceof tH.FormData,!(0<=tX(nr,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i))this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{var s;nl(this),0<this.B&&((this.L=(s=this.g,t3&&"number"==typeof s.timeout&&void 0!==s.ontimeout))?(this.g.timeout=this.B,this.g.ontimeout=tG(this.ua,this)):this.A=iW(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){nn(this,e)}},tj.ua=function(){void 0!==tV&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,iD(this,"timeout"),this.abort(8))},tj.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,iD(this,"complete"),iD(this,"abort"),na(this))},tj.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),na(this,!0)),ne.$.N.call(this)},tj.La=function(){this.s||(this.G||this.v||this.l?no(this):this.kb())},tj.kb=function(){no(this)},tj.isActive=function(){return!!this.g},tj.da=function(){try{return 2<nh(this)?this.g.status:-1}catch(e){return -1}},tj.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},tj.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),r8(t)}},tj.Ia=function(){return this.m},tj.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(tj=np.prototype).ra=8,tj.H=1,tj.Na=function(e){if(this.m){if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;let n=new ra(this,this.l,e),s=this.s;if(this.U&&(s?iw(s=iv(s),this.U):s=this.U),null!==this.o||this.O||(n.I=s,s=null),this.P)e:{for(var t=0,i=0;i<this.j.length;i++){t:{var r=this.j[i];if("__data__"in r.map&&"string"==typeof(r=r.map.__data__)){r=r.length;break t}r=void 0}if(void 0===r)break;if(4096<(t+=r)){t=i;break e}if(4096===t||i===this.j.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=nb(this,n,t),rA(i=rS(this.I),"RID",e),rA(i,"CVER",22),this.F&&rA(i,"X-HTTP-Session-Id",this.F),n_(this,i),s&&(this.O?t="headers="+encodeURIComponent(String(nc(s)))+"&"+t:this.o&&nd(i,this.o,s)),rX(this.i,n),this.bb&&rA(i,"TYPE","init"),this.P?(rA(i,"$req",t),rA(i,"SID","null"),n.aa=!0,rd(n,i,null)):rd(n,i,t),this.H=2}}else 3==this.H&&(e?nw(this,e):0==this.j.length||rq(this.i)||nw(this))}},tj.Ma=function(){if(this.u=null,nS(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=i3(tG(this.jb,this),e)}},tj.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,i6(10),nm(this),nS(this))},tj.ib=function(){null!=this.v&&(this.v=null,nm(this),nE(this),i6(19))},tj.pb=function(e){e?(this.l.info("Successfully pinged google.com"),i6(2)):(this.l.info("Failed to ping google.com"),i6(1))},tj.isActive=function(){return!!this.h&&this.h.isActive(this)},(tj=nD.prototype).Ba=function(){},tj.Aa=function(){},tj.za=function(){},tj.ya=function(){},tj.isActive=function(){return!0},tj.Va=function(){},nL.prototype.g=function(e,t){return new nM(e,t)},tJ(nM,iN),nM.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,i=this.h||void 0;i6(0),e.Y=t,e.na=i||{},e.G=e.aa,e.I=nP(e,null,e.Y),ny(e)},nM.prototype.close=function(){ng(this.g)},nM.prototype.u=function(e){var t=this.g;if("string"==typeof e){var i={};i.__data__=e,e=i}else this.v&&((i={}).__data__=iM(e),e=i);t.j.push(new rW(t.fb++,e)),3==t.H&&ny(t)},nM.prototype.N=function(){this.g.h=null,delete this.j,ng(this.g),delete this.g,nM.$.N.call(this)},tJ(nx,rn),tJ(nU,rs),tJ(nj,nD),nj.prototype.Ba=function(){iD(this.g,"a")},nj.prototype.Aa=function(e){iD(this.g,new nx(e))},nj.prototype.za=function(e){iD(this.g,new nU)},nj.prototype.ya=function(){iD(this.g,"b")},tJ(nF,function(){this.blockSize=-1}),nF.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},nF.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var i=t-this.blockSize,r=this.m,n=this.h,s=0;s<t;){if(0==n)for(;s<=i;)n$(this,e,s),s+=this.blockSize;if("string"==typeof e){for(;s<t;)if(r[n++]=e.charCodeAt(s++),n==this.blockSize){n$(this,r),n=0;break}}else for(;s<t;)if(r[n++]=e[s++],n==this.blockSize){n$(this,r),n=0;break}}this.h=n,this.i+=t},nF.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var i=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&i,i/=256;for(this.j(e),e=Array(16),t=i=0;4>t;++t)for(var r=0;32>r;r+=8)e[i++]=this.g[t]>>>r&255;return e};var nH={};function nB(e){return -128<=e&&128>e?Object.prototype.hasOwnProperty.call(nH,e)?nH[e]:nH[e]=new nV([0|e],0>e?-1:0):new nV([0|e],0>e?-1:0)}function nz(e){if(isNaN(e)||!isFinite(e))return nK;if(0>e)return nX(nz(-e));for(var t=[],i=1,r=0;e>=i;r++)t[r]=e/i|0,i*=nW;return new nV(t,0)}var nW=4294967296,nK=nB(0),nG=nB(1),nq=nB(16777216);function nJ(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function nY(e){return -1==e.h}function nX(e){for(var t=e.g.length,i=[],r=0;r<t;r++)i[r]=~e.g[r];return new nV(i,~e.h).add(nG)}function nQ(e,t){return e.add(nX(t))}function nZ(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function n0(e,t){this.g=e,this.h=t}function n1(e,t){if(nJ(t))throw Error("division by zero");if(nJ(e))return new n0(nK,nK);if(nY(e))return t=n1(nX(e),t),new n0(nX(t.g),nX(t.h));if(nY(t))return t=n1(e,nX(t)),new n0(nX(t.g),t.h);if(30<e.g.length){if(nY(e)||nY(t))throw Error("slowDivide_ only works with positive integers.");for(var i=nG,r=t;0>=r.X(e);)i=n2(i),r=n2(r);var n=n9(i,1),s=n9(r,1);for(r=n9(r,2),i=n9(i,2);!nJ(r);){var o=s.add(r);0>=o.X(e)&&(n=n.add(i),s=o),r=n9(r,1),i=n9(i,1)}return t=nQ(e,n.R(t)),new n0(n,t)}for(n=nK;0<=e.X(t);){for(r=48>=(r=Math.ceil(Math.log(i=Math.max(1,Math.floor(e.ea()/t.ea())))/Math.LN2))?1:Math.pow(2,r-48),o=(s=nz(i)).R(t);nY(o)||0<o.X(e);)i-=r,o=(s=nz(i)).R(t);nJ(s)&&(s=nG),n=n.add(s),e=nQ(e,o)}return new n0(n,e)}function n2(e){for(var t=e.g.length+1,i=[],r=0;r<t;r++)i[r]=e.D(r)<<1|e.D(r-1)>>>31;return new nV(i,e.h)}function n9(e,t){var i=t>>5;t%=32;for(var r=e.g.length-i,n=[],s=0;s<r;s++)n[s]=0<t?e.D(s+i)>>>t|e.D(s+i+1)<<32-t:e.D(s+i);return new nV(n,e.h)}(tj=nV.prototype).ea=function(){if(nY(this))return-nX(this).ea();for(var e=0,t=1,i=0;i<this.g.length;i++){var r=this.D(i);e+=(0<=r?r:nW+r)*t,t*=nW}return e},tj.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(nJ(this))return"0";if(nY(this))return"-"+nX(this).toString(e);for(var t=nz(Math.pow(e,6)),i=this,r="";;){var n=n1(i,t).g,s=((0<(i=nQ(i,n.R(t))).g.length?i.g[0]:i.h)>>>0).toString(e);if(nJ(i=n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},tj.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},tj.X=function(e){return nY(e=nQ(this,e))?-1:nJ(e)?0:1},tj.abs=function(){return nY(this)?nX(this):this},tj.add=function(e){for(var t=Math.max(this.g.length,e.g.length),i=[],r=0,n=0;n<=t;n++){var s=r+(65535&this.D(n))+(65535&e.D(n)),o=(s>>>16)+(this.D(n)>>>16)+(e.D(n)>>>16);r=o>>>16,s&=65535,o&=65535,i[n]=o<<16|s}return new nV(i,-2147483648&i[i.length-1]?-1:0)},tj.R=function(e){if(nJ(this)||nJ(e))return nK;if(nY(this))return nY(e)?nX(this).R(nX(e)):nX(nX(this).R(e));if(nY(e))return nX(this.R(nX(e)));if(0>this.X(nq)&&0>e.X(nq))return nz(this.ea()*e.ea());for(var t=this.g.length+e.g.length,i=[],r=0;r<2*t;r++)i[r]=0;for(r=0;r<this.g.length;r++)for(var n=0;n<e.g.length;n++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(n)>>>16,l=65535&e.D(n);i[2*r+2*n]+=o*l,nZ(i,2*r+2*n),i[2*r+2*n+1]+=s*l,nZ(i,2*r+2*n+1),i[2*r+2*n+1]+=o*a,nZ(i,2*r+2*n+1),i[2*r+2*n+2]+=s*a,nZ(i,2*r+2*n+2)}for(r=0;r<t;r++)i[r]=i[2*r+1]<<16|i[2*r];for(r=t;r<2*t;r++)i[r]=0;return new nV(i,0)},tj.gb=function(e){return n1(this,e).h},tj.and=function(e){for(var t=Math.max(this.g.length,e.g.length),i=[],r=0;r<t;r++)i[r]=this.D(r)&e.D(r);return new nV(i,this.h&e.h)},tj.or=function(e){for(var t=Math.max(this.g.length,e.g.length),i=[],r=0;r<t;r++)i[r]=this.D(r)|e.D(r);return new nV(i,this.h|e.h)},tj.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),i=[],r=0;r<t;r++)i[r]=this.D(r)^e.D(r);return new nV(i,this.h^e.h)},nL.prototype.createWebChannel=nL.prototype.g,nM.prototype.send=nM.prototype.u,nM.prototype.open=nM.prototype.m,nM.prototype.close=nM.prototype.close,i7.NO_ERROR=0,i7.TIMEOUT=8,i7.HTTP_ERROR=6,i8.COMPLETE="complete",ri.EventType=rr,rr.OPEN="a",rr.CLOSE="b",rr.ERROR="c",rr.MESSAGE="d",iN.prototype.listen=iN.prototype.O,ne.prototype.listenOnce=ne.prototype.P,ne.prototype.getLastError=ne.prototype.Sa,ne.prototype.getLastErrorCode=ne.prototype.Ia,ne.prototype.getStatus=ne.prototype.da,ne.prototype.getResponseJson=ne.prototype.Wa,ne.prototype.getResponseText=ne.prototype.ja,ne.prototype.send=ne.prototype.ha,ne.prototype.setWithCredentials=ne.prototype.Oa,nF.prototype.digest=nF.prototype.l,nF.prototype.reset=nF.prototype.reset,nF.prototype.update=nF.prototype.j,nV.prototype.add=nV.prototype.add,nV.prototype.multiply=nV.prototype.R,nV.prototype.modulo=nV.prototype.gb,nV.prototype.compare=nV.prototype.X,nV.prototype.toNumber=nV.prototype.ea,nV.prototype.toString=nV.prototype.toString,nV.prototype.getBits=nV.prototype.D,nV.fromNumber=nz,nV.fromString=function e(t,i){if(0==t.length)throw Error("number format error: empty string");if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if("-"==t.charAt(0))return nX(e(t.substring(1),i));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=nz(Math.pow(i,8)),n=nK,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),i);8>o?(o=nz(Math.pow(i,o)),n=n.R(o).add(nz(a))):n=(n=n.R(r)).add(nz(a))}return n},t$.createWebChannelTransport=function(){return new nL},t$.getStatEventTarget=function(){return i1()},t$.ErrorCode=i7,t$.EventType=i8,t$.Event=iZ,t$.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},t$.FetchXmlHttpFactory=r9,t$.WebChannel=ri,t$.XhrIo=ne,t$.Md5=nF;var n4=t$.Integer=nV;const n6="@firebase/firestore";class n5{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}n5.UNAUTHENTICATED=new n5(null),n5.GOOGLE_CREDENTIALS=new n5("google-credentials-uid"),n5.FIRST_PARTY=new n5("first-party-uid"),n5.MOCK_USER=new n5("mock-user");let n3="10.2.0";const n7=new eJ("@firebase/firestore");function n8(e,...t){if(n7.logLevel<=tU.DEBUG){let i=t.map(st);n7.debug(`Firestore (${n3}): ${e}`,...i)}}function se(e,...t){if(n7.logLevel<=tU.ERROR){let i=t.map(st);n7.error(`Firestore (${n3}): ${e}`,...i)}}function st(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function si(e="Unexpected state"){let t=`FIRESTORE (${n3}) INTERNAL ASSERTION FAILED: `+e;throw se(t),Error(t)}const sr={CANCELLED:"cancelled",INVALID_ARGUMENT:"invalid-argument",FAILED_PRECONDITION:"failed-precondition",UNAVAILABLE:"unavailable"};class sn extends eA{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ss{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class so{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sa{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(n5.UNAUTHENTICATED))}shutdown(){}}class sl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sh{constructor(e){this.t=e,this.currentUser=n5.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let i=this.i,r=e=>this.i!==i?(i=this.i,t(e)):Promise.resolve(),n=new ss;this.o=()=>{this.i++,this.currentUser=this.u(),n.resolve(),n=new ss,e.enqueueRetryable(()=>r(this.currentUser))};let s=()=>{let t=n;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{n8("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?o(e):(n8("FirebaseAuthCredentialsProvider","Auth not yet detected"),n.resolve(),n=new ss)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(n8("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?("string"==typeof t.accessToken||si(),new so(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return null===e||"string"==typeof e||si(),new n5(e)}}class su{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=n5.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sc{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new su(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(n5.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sf{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){let i=e=>{null!=e.error&&n8("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let i=e.token!==this.R;return this.R=e.token,n8("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>i(t))};let r=e=>{n8("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){let e=this.A.getImmediate({optional:!0});e?r(e):n8("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?("string"==typeof e.token||si(),this.R=e.token,new sd(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class sp{static V(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,i="";for(;i.length<20;){let r=function(e){let t="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(i);else for(let t=0;t<e;t++)i[t]=Math.floor(256*Math.random());return i}(40);for(let n=0;n<r.length;++n)i.length<20&&r[n]<t&&(i+=e.charAt(r[n]%e.length))}return i}}function sg(e,t){return e<t?-1:e>t?1:0}class sm{constructor(e,t,i){void 0===t?t=0:t>e.length&&si(),void 0===i?i=e.length-t:i>e.length-t&&si(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===sm.comparator(this,e)}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof sm?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let i=Math.min(e.length,t.length);for(let r=0;r<i;r++){let i=e.get(r),n=t.get(r);if(i<n)return -1;if(i>n)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class sv extends sm{construct(e,t,i){return new sv(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let t=[];for(let i of e){if(i.indexOf("//")>=0)throw new sn(sr.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(e=>e.length>0))}return new sv(t)}static emptyPath(){return new sv([])}}class sy{constructor(e){this.path=e}static fromPath(e){return new sy(sv.fromString(e))}static fromName(e){return new sy(sv.fromString(e).popFirst(5))}static empty(){return new sy(sv.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===sv.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return sv.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new sy(new sv(e.slice()))}}function sw(e){return"IndexedDbTransactionError"===e.name}class s_{constructor(e,t){this.comparator=e,this.root=t||sI.EMPTY}insert(e,t){return new s_(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,sI.BLACK,null,null))}remove(e){return new s_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sI.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){let r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return -1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){let e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sb(this.root,e,this.comparator,!1)}getReverseIterator(){return new sb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sb(this.root,e,this.comparator,!0)}}class sb{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let n=1;for(;!e.isEmpty();)if(n=t?i(e.key,t):1,t&&r&&(n*=-1),n<0)e=this.isReverse?e.left:e.right;else{if(0===n){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sI{constructor(e,t,i,r,n){this.key=e,this.value=t,this.color=null!=i?i:sI.RED,this.left=null!=r?r:sI.EMPTY,this.right=null!=n?n:sI.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,n){return new sI(null!=e?e:this.key,null!=t?t:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=n?n:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this,n=i(e,r.key);return(r=n<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===n?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i))).fixUp()}removeMin(){if(this.left.isEmpty())return sI.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()}remove(e,t){let i,r=this;if(0>t(e,r.key))r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return sI.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}rotateLeft(){let e=this.copy(null,null,sI.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,sI.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw si();let e=this.left.check();if(e!==this.right.check())throw si();return e+(this.isRed()?0:1)}}sI.EMPTY=null,sI.RED=!0,sI.BLACK=!1,sI.EMPTY=new class{constructor(){this.size=0}get key(){throw si()}get value(){throw si()}get color(){throw si()}get left(){throw si()}get right(){throw si()}copy(e,t,i,r,n){return this}insert(e,t,i){return new sI(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class sE{constructor(e){this.comparator=e,this.data=new s_(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){let i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){let r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sT(this.data.getIterator())}getIteratorFrom(e){return new sT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof sE)||this.size!==e.size)return!1;let t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){let e=t.getNext().key,r=i.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new sE(this.comparator);return t.data=e,t}}class sT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class sS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class sk{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new sS("Invalid base64 string: "+e):e}}(e);return new sk(t)}static fromUint8Array(e){let t=function(e){let t="";for(let i=0;i<e.length;++i)t+=String.fromCharCode(e[i]);return t}(e);return new sk(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sg(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function sC(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}sk.EMPTY_BYTE_STRING=new sk(""),new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);class sR{constructor(e,t,i,r,n,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=n,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class sA{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sA("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof sA&&e.projectId===this.projectId&&e.database===this.database}}new s_(sy.comparator),new s_(sy.comparator),new s_(sy.comparator),new sE(sy.comparator),new sE(sg),(N=P||(P={}))[N.OK=0]="OK",N[N.CANCELLED=1]="CANCELLED",N[N.UNKNOWN=2]="UNKNOWN",N[N.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",N[N.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",N[N.NOT_FOUND=5]="NOT_FOUND",N[N.ALREADY_EXISTS=6]="ALREADY_EXISTS",N[N.PERMISSION_DENIED=7]="PERMISSION_DENIED",N[N.UNAUTHENTICATED=16]="UNAUTHENTICATED",N[N.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",N[N.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",N[N.ABORTED=10]="ABORTED",N[N.OUT_OF_RANGE=11]="OUT_OF_RANGE",N[N.UNIMPLEMENTED=12]="UNIMPLEMENTED",N[N.INTERNAL=13]="INTERNAL",N[N.UNAVAILABLE=14]="UNAVAILABLE",N[N.DATA_LOSS=15]="DATA_LOSS",new n4([4294967295,4294967295],0);class sO{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){var i;if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(sC(e.integerValue));else if("doubleValue"in e){let i=sC(e.doubleValue);isNaN(i)?this.dt(t,13):(this.dt(t,15),0===i&&1/i==-1/0?t.At(0):t.At(i))}else if("timestampValue"in e){let i=e.timestampValue;this.dt(t,20),"string"==typeof i?t.Rt(i):(t.Rt(`${i.seconds||""}`),t.At(i.nanos||0))}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt("string"==typeof(i=e.bytesValue)?sk.fromBase64String(i):sk.fromUint8Array(i)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let i=e.geoPointValue;this.dt(t,45),t.At(i.latitude||0),t.At(i.longitude||0)}else"mapValue"in e?"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue?this.dt(t,Number.MAX_SAFE_INTEGER):(this.wt(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.St(e.arrayValue,t),this.ft(t)):si()}Vt(e,t){this.dt(t,25),this.bt(e,t)}bt(e,t){t.Rt(e)}wt(e,t){let i=e.fields||{};for(let e of(this.dt(t,55),Object.keys(i)))this.Vt(e,t),this.Tt(i[e],t)}St(e,t){let i=e.values||[];for(let e of(this.dt(t,50),i))this.Tt(e,t)}yt(e,t){this.dt(t,37),sy.fromName(e).path.forEach(e=>{this.dt(t,60),this.bt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}sO.Dt=new sO,new Uint8Array(0);class sP{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new sP(e,sP.DEFAULT_COLLECTION_PERCENTILE,sP.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function sN(){return"undefined"!=typeof document?document:null}sP.DEFAULT_COLLECTION_PERCENTILE=10,sP.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sP.DEFAULT=new sP(41943040,sP.DEFAULT_COLLECTION_PERCENTILE,sP.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sP.DISABLED=new sP(-1,0,0);class sD{constructor(e,t,i=1e3,r=1.5,n=6e4){this.si=e,this.timerId=t,this.bo=i,this.Do=r,this.vo=n,this.Co=0,this.Fo=null,this.Mo=Date.now(),this.reset()}reset(){this.Co=0}xo(){this.Co=this.vo}Oo(e){this.cancel();let t=Math.floor(this.Co+this.No()),i=Math.max(0,Date.now()-this.Mo),r=Math.max(0,t-i);r>0&&n8("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Co} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Fo=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Mo=Date.now(),e())),this.Co*=this.Do,this.Co<this.bo&&(this.Co=this.bo),this.Co>this.vo&&(this.Co=this.vo)}Bo(){null!==this.Fo&&(this.Fo.skipDelay(),this.Fo=null)}cancel(){null!==this.Fo&&(this.Fo.cancel(),this.Fo=null)}No(){return(Math.random()-.5)*this.Co}}class sL{constructor(e,t,i,r,n){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=n,this.deferred=new ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,i,r,n){let s=Date.now()+i,o=new sL(e,t,s,r,n);return o.start(i),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new sn(sr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class sM{constructor(e,t,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=n5.UNAUTHENTICATED,this.clientId=sp.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,async e=>{n8("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(i,e=>(n8("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new sn(sr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){let t=function(e,t){if(se("AsyncQueue",`${t}: ${e}`),sw(e))return new sn(sr.UNAVAILABLE,`${t}: ${e}`);throw e}(i,"Failed to shutdown persistence");e.reject(t)}}),e.promise}}function sx(e){let t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const sU=new Map;class sj{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new sn(sr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new sn(sr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,i,r){if(!0===t&&!0===r)throw new sn(sr.INVALID_ARGUMENT,`${e} and ${i} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sx(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new sn(sr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new sn(sr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new sn(sr.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){var t,i;return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,i=e.experimentalLongPollingOptions,t.timeoutSeconds===i.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sF{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sj({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new sn(sr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new sn(sr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sj(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new sa;switch(e.type){case"firstParty":return new sc(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new sn(sr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=sU.get(e);t&&(n8("ComponentProvider","Removing Datastore"),sU.delete(e),t.terminate())}(this),Promise.resolve()}}class s${constructor(){this.Ga=Promise.resolve(),this.za=[],this.ja=!1,this.Ha=[],this.Ja=null,this.Ya=!1,this.Za=!1,this.Xa=[],this.$o=new sD(this,"async_queue_retry"),this.eu=()=>{let e=sN();e&&n8("AsyncQueue","Visibility state changed to "+e.visibilityState),this.$o.Bo()};let e=sN();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.eu)}get isShuttingDown(){return this.ja}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.tu(),this.nu(e)}enterRestrictedMode(e){if(!this.ja){this.ja=!0,this.Za=e||!1;let t=sN();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.eu)}}enqueue(e){if(this.tu(),this.ja)return new Promise(()=>{});let t=new ss;return this.nu(()=>this.ja&&this.Za?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.za.push(e),this.ru()))}async ru(){if(0!==this.za.length){try{await this.za[0](),this.za.shift(),this.$o.reset()}catch(e){if(!sw(e))throw e;n8("AsyncQueue","Operation failed with retryable error: "+e)}this.za.length>0&&this.$o.Oo(()=>this.ru())}}nu(e){let t=this.Ga.then(()=>(this.Ya=!0,e().catch(e=>{let t;this.Ja=e,this.Ya=!1;let i=(t=e.message||"",e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t);throw se("INTERNAL UNHANDLED ERROR: ",i),e}).then(e=>(this.Ya=!1,e))));return this.Ga=t,t}enqueueAfterDelay(e,t,i){this.tu(),this.Xa.indexOf(e)>-1&&(t=0);let r=sL.createAndSchedule(this,e,t,i,e=>this.iu(e));return this.Ha.push(r),r}tu(){this.Ja&&si()}verifyOperationInProgress(){}async su(){let e;do e=this.Ga,await e;while(e!==this.Ga)}ou(e){for(let t of this.Ha)if(t.timerId===e)return!0;return!1}_u(e){return this.su().then(()=>{for(let t of(this.Ha.sort((e,t)=>e.targetTimeMs-t.targetTimeMs),this.Ha))if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.su()})}au(e){this.Xa.push(e)}iu(e){let t=this.Ha.indexOf(e);this.Ha.splice(t,1)}}class sV extends sF{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new s$,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||function(e){var t,i,r,n,s,o;let a=e._freezeSettings(),l=(n=e._databaseId,s=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",o=e._persistenceKey,new sR(n,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,sx(a.experimentalLongPollingOptions),a.useFetchStreams));e._firestoreClient=new sM(e._authCredentials,e._appCheckCredentials,e._queue,l),(null===(i=a.localCache)||void 0===i?void 0:i._offlineComponentProvider)&&(null===(r=a.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.localCache.kind,_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function sH(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,r=Object.getOwnPropertySymbols(e);n<r.length;n++)0>t.indexOf(r[n])&&Object.prototype.propertyIsEnumerable.call(e,r[n])&&(i[r[n]]=e[r[n]]);return i}function sB(e){return void 0!==e&&void 0!==e.enterprise}RegExp("[~\\*/\\[\\]]"),function(e=!0){n3=tc,ta(new e$("firestore",(t,{instanceIdentifier:i,options:r})=>{let n=t.getProvider("app").getImmediate(),s=new sV(new sh(t.getProvider("auth-internal")),new sf(t.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new sn(sr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sA(e.options.projectId,t)}(n,i),n);return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC").setMultipleInstances(!0)),tp(n6,"4.1.1",void 0),tp(n6,"4.1.1","esm2017")}(),tp("firebase","10.2.0","app"),"function"==typeof SuppressedError&&SuppressedError;class sz{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function sW(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sK=new eO("auth","Firebase",sW()),sG=new eJ("@firebase/auth");function sq(e,...t){sG.logLevel<=tU.ERROR&&sG.error(`Auth (${tc}): ${e}`,...t)}function sJ(e,...t){throw sX(e,...t)}function sY(e,...t){return sX(e,...t)}function sX(e,...t){if("string"!=typeof e){let i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(i,...r)}return sK.create(e,...t)}function sQ(e,t,...i){if(!e)throw sX(t,...i)}function sZ(e){let t="INTERNAL ASSERTION FAILED: "+e;throw sq(t),Error(t)}function s0(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function s1(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class s2{constructor(e,t){this.shortDelay=e,this.longDelay=t,t>e||sZ("Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(eR())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===s1()||"https:"===s1()||function(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function s9(e,t){e.emulator||sZ("Emulator should always be set here");let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class s4{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void sZ("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void sZ("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void sZ("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const s6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},s5=new s2(3e4,6e4);function s3(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function s7(e,t,i,r,n={}){return s8(e,n,async()=>{let n={},s={};r&&("GET"===t?s=r:n={body:JSON.stringify(r)});let o=eL(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),s4.fetch()(ot(e,e.config.apiHost,i,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},n))})}async function s8(e,t,i){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},s6),t);try{let t=new oi(e),n=await Promise.race([i(),t.promise]);t.clearNetworkTimeout();let s=await n.json();if("needConfirmation"in s)throw or(e,"account-exists-with-different-credential",s);if(n.ok&&!("errorMessage"in s))return s;{let t=n.ok?s.errorMessage:s.error.message,[i,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===i)throw or(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===i)throw or(e,"email-already-in-use",s);if("USER_DISABLED"===i)throw or(e,"user-disabled",s);let a=r[i]||i.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw function(e,t,i){let r=Object.assign(Object.assign({},sW()),{[t]:i}),n=new eO("auth","Firebase",r);return n.create(t,{appName:e.name})}(e,a,o);sJ(e,a)}}catch(t){if(t instanceof eA)throw t;sJ(e,"network-request-failed",{message:String(t)})}}async function oe(e,t,i,r,n={}){let s=await s7(e,t,i,r,n);return"mfaPendingCredential"in s&&sJ(e,"multi-factor-auth-required",{_serverResponse:s}),s}function ot(e,t,i,r){let n=`${t}${i}?${r}`;return e.config.emulator?s9(e.config,n):`${e.config.apiScheme}://${n}`}class oi{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(sY(this.auth,"network-request-failed")),s5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function or(e,t,i){let r={appName:e.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);let n=sY(e,t,r);return n.customData._tokenResponse=i,n}async function on(e,t){return s7(e,"GET","/v2/recaptchaConfig",s3(e,t))}async function os(e,t){return s7(e,"POST","/v1/accounts:delete",t)}async function oo(e,t){return s7(e,"POST","/v1/accounts:lookup",t)}function oa(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function ol(e,t=!1){let i=eF(e),r=await i.getIdToken(t),n=ou(r);sQ(n&&n.exp&&n.auth_time&&n.iat,i.auth,"internal-error");let s="object"==typeof n.firebase?n.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:n,token:r,authTime:oa(oh(n.auth_time)),issuedAtTime:oa(oh(n.iat)),expirationTime:oa(oh(n.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function oh(e){return 1e3*Number(e)}function ou(e){let[t,i,r]=e.split(".");if(void 0===t||void 0===i||void 0===r)return sq("JWT malformed, contained fewer than 3 sections"),null;try{let e=ey(i);if(!e)return sq("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return sq("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}async function oc(e,t,i=!1){if(i)return t;try{return await t}catch(t){throw t instanceof eA&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}class od{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;let e=null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0,i=e-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class of{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=oa(this.lastLoginAt),this.creationTime=oa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function op(e){var t;let i=e.auth,r=await e.getIdToken(),n=await oc(e,oo(i,{idToken:r}));sQ(null==n?void 0:n.users.length,i,"internal-error");let s=n.users[0];e._notifyReloadListener(s);let o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,i=sH(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}}):[],a=function(e,t){let i=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...i,...t]}(e.providerData,o),l=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null==a?void 0:a.length),u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new of(s.createdAt,s.lastLoginAt),isAnonymous:!!l&&h};Object.assign(e,u)}async function og(e){let t=eF(e);await op(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}async function om(e,t){let i=await s8(e,{},async()=>{let i=eL({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:n}=e.config,s=ot(e,r,"/v1/token",`key=${n}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",s4.fetch()(s,{method:"POST",headers:o,body:i})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}class ov{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){sQ(e.idToken,"internal-error"),sQ(void 0!==e.idToken,"internal-error"),sQ(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){let t=ou(e);return sQ(t,"internal-error"),sQ(void 0!==t.exp,"internal-error"),sQ(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return(sQ(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired)?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:i,refreshToken:r,expiresIn:n}=await om(e,t);this.updateTokensAndExpiration(i,r,Number(n))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){let{refreshToken:i,accessToken:r,expirationTime:n}=t,s=new ov;return i&&(sQ("string"==typeof i,"internal-error",{appName:e}),s.refreshToken=i),r&&(sQ("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),n&&(sQ("number"==typeof n,"internal-error",{appName:e}),s.expirationTime=n),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ov,this.toJSON())}_performRefresh(){return sZ("not implemented")}}function oy(e,t){sQ("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ow{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,n=sH(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new od(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=n.displayName||null,this.email=n.email||null,this.emailVerified=n.emailVerified||!1,this.phoneNumber=n.phoneNumber||null,this.photoURL=n.photoURL||null,this.isAnonymous=n.isAnonymous||!1,this.tenantId=n.tenantId||null,this.providerData=n.providerData?[...n.providerData]:[],this.metadata=new of(n.createdAt||void 0,n.lastLoginAt||void 0)}async getIdToken(e){let t=await oc(this,this.stsTokenManager.getToken(this.auth,e));return sQ(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ol(this,e)}reload(){return og(this)}_assign(e){this!==e&&(sQ(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new ow(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){sQ(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await op(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){let e=await this.getIdToken();return await oc(this,os(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,n,s,o,a,l,h;let u=null!==(i=t.displayName)&&void 0!==i?i:void 0,c=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(n=t.phoneNumber)&&void 0!==n?n:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(h=t.lastLoginAt)&&void 0!==h?h:void 0,{uid:y,emailVerified:w,isAnonymous:_,providerData:b,stsTokenManager:I}=t;sQ(y&&I,e,"internal-error");let E=ov.fromJSON(this.name,I);sQ("string"==typeof y,e,"internal-error"),oy(u,e.name),oy(c,e.name),sQ("boolean"==typeof w,e,"internal-error"),sQ("boolean"==typeof _,e,"internal-error"),oy(d,e.name),oy(f,e.name),oy(p,e.name),oy(g,e.name),oy(m,e.name),oy(v,e.name);let T=new ow({uid:y,auth:e,email:c,emailVerified:w,displayName:u,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:m,lastLoginAt:v});return b&&Array.isArray(b)&&(T.providerData=b.map(e=>Object.assign({},e))),g&&(T._redirectEventId=g),T}static async _fromIdTokenResponse(e,t,i=!1){let r=new ov;r.updateFromServerResponse(t);let n=new ow({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await op(n),n}}const o_=new Map;function ob(e){e instanceof Function||sZ("Expected a class definition");let t=o_.get(e);return t?t instanceof e||sZ("Instance stored in cache mismatched with class"):(t=new e,o_.set(e,t)),t}class oI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}function oE(e,t,i){return`firebase:${e}:${t}:${i}`}oI.type="NONE";class oT{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;let{config:r,name:n}=this.auth;this.fullUserKey=oE(this.userKey,r.apiKey,n),this.fullPersistenceKey=oE("persistence",r.apiKey,n),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?ow._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new oT(ob(oI),e,i);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),n=r[0]||ob(oI),s=oE(i,e.config.apiKey,e.name),o=null;for(let i of t)try{let t=await i._get(s);if(t){let r=ow._fromJSON(e,t);i!==n&&(o=r),n=i;break}}catch(e){}let a=r.filter(e=>e._shouldAllowMigration);return n._shouldAllowMigration&&a.length&&(n=a[0],o&&await n._set(s,o.toJSON()),await Promise.all(t.map(async e=>{if(e!==n)try{await e._remove(s)}catch(e){}}))),new oT(n,e,i)}}function oS(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";{if(oA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ok(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oP(t))return"Blackberry";if(oN(t))return"Webos";if(oC(t))return"Safari";if((t.includes("chrome/")||oR(t))&&!t.includes("edge/"))return"Chrome";if(oO(t))return"Android";let i=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==i?void 0:i.length)===2)return i[1]}return"Other"}function ok(e=eR()){return/firefox\//i.test(e)}function oC(e=eR()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function oR(e=eR()){return/crios\//i.test(e)}function oA(e=eR()){return/iemobile/i.test(e)}function oO(e=eR()){return/android/i.test(e)}function oP(e=eR()){return/blackberry/i.test(e)}function oN(e=eR()){return/webos/i.test(e)}function oD(e=eR()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function oL(e=eR()){return oD(e)||oO(e)||oN(e)||oP(e)||/windows phone/i.test(e)||oA(e)}function oM(e,t=[]){let i;switch(e){case"Browser":i=oS(eR());break;case"Worker":i=`${oS(eR())}-${e}`;break;default:i=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${tc}/${r}`}class ox{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let i=t=>new Promise((i,r)=>{try{let r=e(t);i(r)}catch(e){r(e)}});i.onAbort=t,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}async function oU(e,t={}){return s7(e,"GET","/v2/passwordPolicy",s3(e,t))}class oj{constructor(e){var t,i,r,n;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(i=e.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(n=e.forceUpgradeOnSignin)&&void 0!==n&&n,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,n,s,o;let a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(i=a.meetsMaxPasswordLength)||void 0===i||i),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(n=a.containsUppercaseLetter)||void 0===n||n),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let i;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,n){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=n))}}class oF{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o$(this),this.idTokenSubscription=new o$(this),this.beforeStateQueue=new ox(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sK,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ob(t)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await oT.create(this,e),!this._deleted)){if(null===(i=this._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;let i=await this.assertedPersistence.getCurrentUser(),r=i,n=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let i=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);(!i||i===s)&&(null==o?void 0:o.user)&&(r=o.user,n=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(n)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return(sQ(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId)?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await op(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){let t=e?eF(e):null;return t&&sQ(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&sQ(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ob(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await oU(this),t=new oj(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eO("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let i=this.onAuthStateChanged(()=>{i(),e()},t)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let i=await this.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&ob(e)||this._popupRedirectResolver;sQ(t,this,"argument-error"),this.redirectPersistenceManager=await oT.create(this,[ob(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};let n="function"==typeof t?t:t.next.bind(t),s=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if(sQ(o,this,"internal-error"),o.then(()=>{s||n(this.currentUser)}),"function"==typeof t){let n=e.addObserver(t,i,r);return()=>{s=!0,n()}}{let i=e.addObserver(t);return()=>{s=!0,i()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return sQ(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let i=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;let t=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){sG.logLevel<=tU.WARN&&sG.warn(`Auth (${tc}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}class o${constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){let i=new eU(e,void 0);return i.subscribe.bind(i)}(e=>this.observer=e)}get next(){return sQ(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function oV(e){return new Promise((t,i)=>{var r,n;let s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=e=>{let t=sY("internal-error");t.customData=e,i(t)},s.type="text/javascript",s.charset="UTF-8",(null!==(n=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==n?n:document).appendChild(s)})}function oH(e){return`__${e}${Math.floor(1e6*Math.random())}`}class oB{constructor(e){this.type="recaptcha-enterprise",this.auth=eF(e)}async verify(e="verify",t=!1){async function i(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,i)=>{on(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0===r.recaptchaKey)i(Error("recaptcha Enterprise site key undefined"));else{let i=new sz(r);return null==e.tenantId?e._agentRecaptchaConfig=i:e._tenantRecaptchaConfigs[e.tenantId]=i,t(i.siteKey)}}).catch(e=>{i(e)})})}function r(t,i,r){let n=window.grecaptcha;sB(n)?n.enterprise.ready(()=>{n.enterprise.execute(t,{action:e}).then(e=>{i(e)}).catch(()=>{i("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,n)=>{i(this.auth).then(i=>{if(!t&&sB(window.grecaptcha))r(i,e,n);else{if("undefined"==typeof window){n(Error("RecaptchaVerifier is only supported in browser"));return}oV("https://www.google.com/recaptcha/enterprise.js?render="+i).then(()=>{r(i,e,n)}).catch(e=>{n(e)})}}).catch(e=>{n(e)})})}}async function oz(e,t,i,r=!1){let n;let s=new oB(e);try{n=await s.verify(i)}catch(e){n=await s.verify(i,!0)}let o=Object.assign({},t);return r?Object.assign(o,{captchaResp:n}):Object.assign(o,{captchaResponse:n}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}function oW(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function oK(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}class oG{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return sZ("not implemented")}_getIdTokenResponse(e){return sZ("not implemented")}_linkToIdToken(e,t){return sZ("not implemented")}_getReauthenticationResolver(e){return sZ("not implemented")}}async function oq(e,t){return s7(e,"POST","/v1/accounts:update",t)}async function oJ(e,t){return oe(e,"POST","/v1/accounts:signInWithPassword",s3(e,t))}async function oY(e,t){return oe(e,"POST","/v1/accounts:signInWithEmailLink",s3(e,t))}async function oX(e,t){return oe(e,"POST","/v1/accounts:signInWithEmailLink",s3(e,t))}class oQ extends oG{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new oQ(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new oQ(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":let i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t||!t.emailPasswordEnabled)return oJ(e,i).catch(async t=>{if("auth/missing-recaptcha-token"!==t.code)return Promise.reject(t);{console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");let t=await oz(e,i,"signInWithPassword");return oJ(e,t)}});{let t=await oz(e,i,"signInWithPassword");return oJ(e,t)}case"emailLink":return oY(e,{email:this._email,oobCode:this._password});default:sJ(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return oq(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return oX(e,{idToken:t,email:this._email,oobCode:this._password});default:sJ(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function oZ(e,t){return oe(e,"POST","/v1/accounts:signInWithIdp",s3(e,t))}class o0 extends oG{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new o0(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):sJ("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:i,signInMethod:r}=t,n=sH(t,["providerId","signInMethod"]);if(!i||!r)return null;let s=new o0(i,r);return s.idToken=n.idToken||void 0,s.accessToken=n.accessToken||void 0,s.secret=n.secret,s.nonce=n.nonce,s.pendingToken=n.pendingToken||null,s}_getIdTokenResponse(e){let t=this.buildRequest();return oZ(e,t)}_linkToIdToken(e,t){let i=this.buildRequest();return i.idToken=t,oZ(e,i)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,oZ(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=eL(t)}return e}}async function o1(e,t){return s7(e,"POST","/v1/accounts:sendVerificationCode",s3(e,t))}async function o2(e,t){return oe(e,"POST","/v1/accounts:signInWithPhoneNumber",s3(e,t))}async function o9(e,t){let i=await oe(e,"POST","/v1/accounts:signInWithPhoneNumber",s3(e,t));if(i.temporaryProof)throw or(e,"account-exists-with-different-credential",i);return i}const o4={USER_NOT_FOUND:"user-not-found"};async function o6(e,t){let i=Object.assign(Object.assign({},t),{operation:"REAUTH"});return oe(e,"POST","/v1/accounts:signInWithPhoneNumber",s3(e,i),o4)}class o5 extends oG{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new o5({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new o5({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return o2(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return o9(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return o6(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:i,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:i,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:i,phoneNumber:r,temporaryProof:n}=e;return i||t||r||n?new o5({verificationId:t,verificationCode:i,phoneNumber:r,temporaryProof:n}):null}}class o3{constructor(e){var t,i,r,n,s,o;let a=eM(ex(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,h=null!==(i=a.oobCode)&&void 0!==i?i:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);sQ(l&&h&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=h,this.continueUrl=null!==(n=a.continueUrl)&&void 0!==n?n:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){let t=function(e){let t=eM(ex(e)).link,i=t?eM(ex(t)).deep_link_id:null,r=eM(ex(e)).deep_link_id,n=r?eM(ex(r)).link:null;return n||r||i||t||e}(e);try{return new o3(t)}catch(e){return null}}}class o7{constructor(){this.providerId=o7.PROVIDER_ID}static credential(e,t){return oQ._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let i=o3.parseLink(t);return sQ(i,"argument-error"),oQ._fromEmailAndCode(e,i.code,i.tenantId)}}o7.PROVIDER_ID="password",o7.EMAIL_PASSWORD_SIGN_IN_METHOD="password",o7.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class o8{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ae extends o8{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class at extends ae{constructor(){super("facebook.com")}static credential(e){return o0._fromParams({providerId:at.PROVIDER_ID,signInMethod:at.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return at.credentialFromTaggedObject(e)}static credentialFromError(e){return at.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return at.credential(e.oauthAccessToken)}catch(e){return null}}}at.FACEBOOK_SIGN_IN_METHOD="facebook.com",at.PROVIDER_ID="facebook.com";class ai extends ae{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return o0._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ai.credential(t,i)}catch(e){return null}}}ai.GOOGLE_SIGN_IN_METHOD="google.com",ai.PROVIDER_ID="google.com";class ar extends ae{constructor(){super("github.com")}static credential(e){return o0._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch(e){return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com",ar.PROVIDER_ID="github.com";class an extends ae{constructor(){super("twitter.com")}static credential(e,t){return o0._fromParams({providerId:an.PROVIDER_ID,signInMethod:an.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return an.credentialFromTaggedObject(e)}static credentialFromError(e){return an.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return an.credential(t,i)}catch(e){return null}}}an.TWITTER_SIGN_IN_METHOD="twitter.com",an.PROVIDER_ID="twitter.com";class as{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){let n=await ow._fromIdTokenResponse(e,i,r),s=ao(i),o=new as({user:n,providerId:s,_tokenResponse:i,operationType:t});return o}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);let r=ao(i);return new as({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function ao(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class aa extends eA{constructor(e,t,i,r){var n;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,aa.prototype),this.customData={appName:e.name,tenantId:null!==(n=e.tenantId)&&void 0!==n?n:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new aa(e,t,i,r)}}function al(e,t,i,r){let n="reauthenticate"===t?i._getReauthenticationResolver(e):i._getIdTokenResponse(e);return n.catch(i=>{if("auth/multi-factor-auth-required"===i.code)throw aa._fromErrorAndOperation(e,i,t,r);throw i})}async function ah(e,t,i=!1){let r=await oc(e,t._linkToIdToken(e.auth,await e.getIdToken()),i);return as._forOperation(e,"link",r)}async function au(e,t,i=!1){let{auth:r}=e,n="reauthenticate";try{let s=await oc(e,al(r,n,t,e),i);sQ(s.idToken,r,"internal-error");let o=ou(s.idToken);sQ(o,r,"internal-error");let{sub:a}=o;return sQ(e.uid===a,r,"user-mismatch"),as._forOperation(e,n,s)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&sJ(r,"user-mismatch"),e}}async function ac(e,t,i=!1){let r="signIn",n=await al(e,r,t),s=await as._fromIdTokenResponse(e,r,n);return i||await e._updateCurrentUser(s.user),s}new WeakMap;const ad="__sak";class af{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(ad,"1"),this.storage.removeItem(ad),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ap extends af{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){let e=eR();return oC(e)||oD(e)}()&&function(){try{return!!(window&&window!==window.top)}catch(e){return!1}}(),this.fallbackToPolling=oL(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,i)=>{this.notifyListeners(e,i)});return}let i=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let r=this.storage.getItem(i);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!t)return}let r=()=>{let e=this.storage.getItem(i);(t||this.localCache[i]!==e)&&this.notifyListeners(i,e)},n=this.storage.getItem(i);(function(){let e=eR();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0})()&&10===document.documentMode&&n!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;let i=this.listeners[e];if(i)for(let e of Array.from(i))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ap.type="LOCAL";class ag extends af{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ag.type="SESSION";class am{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let i=new am(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:i,data:r}=e.data,n=this.handlersMap[i];if(!(null==n?void 0:n.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:i});let s=Array.from(n).map(async t=>t(e.origin,r)),o=await Promise.all(s.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:i,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function av(e="",t=10){let i="";for(let e=0;e<t;e++)i+=Math.floor(10*Math.random());return e+i}am.receivers=[];class ay{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){let r,n;let s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw Error("connection_unavailable");return new Promise((o,a)=>{let l=av("",20);s.port1.start();let h=setTimeout(()=>{a(Error("unsupported_event"))},i);n={messageChannel:s,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{a(Error("timeout"))},3e3);break;case"done":clearTimeout(r),o(e.data.response);break;default:clearTimeout(h),clearTimeout(r),a(Error("invalid_response"))}}},this.handlers.add(n),s.port1.addEventListener("message",n.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{n&&this.removeMessageHandler(n)})}}function aw(){return window}function a_(){return void 0!==aw().WorkerGlobalScope&&"function"==typeof aw().importScripts}async function ab(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{let e=await navigator.serviceWorker.ready;return e.active}catch(e){return null}}const aI="firebaseLocalStorageDb",aE="firebaseLocalStorage",aT="fbase_key";class aS{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function ak(e,t){return e.transaction([aE],t?"readwrite":"readonly").objectStore(aE)}function aC(){let e=indexedDB.open(aI,1);return new Promise((t,i)=>{e.addEventListener("error",()=>{i(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(aE,{keyPath:aT})}catch(e){i(e)}}),e.addEventListener("success",async()=>{let i=e.result;i.objectStoreNames.contains(aE)?t(i):(i.close(),await function(){let e=indexedDB.deleteDatabase(aI);return new aS(e).toPromise()}(),t(await aC()))})})}async function aR(e,t,i){let r=ak(e,!0).put({[aT]:t,value:i});return new aS(r).toPromise()}async function aA(e,t){let i=ak(e,!1).get(t),r=await new aS(i).toPromise();return void 0===r?null:r.value}function aO(e,t){let i=ak(e,!0).delete(t);return new aS(i).toPromise()}class aP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await aC()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return a_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=am._getInstance(a_()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>{let i=await this._poll();return{keyProcessed:i.includes(t.key)}}),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await ab(),!this.activeServiceWorker)return;this.sender=new ay(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&(null===(e=i[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=i[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await aC();return await aR(e,ad,"1"),await aO(e,ad),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>aR(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>aA(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>aO(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>{let t=ak(e,!1).getAll();return new aS(t).toPromise()});if(!e||0!==this.pendingWrites)return[];let t=[],i=new Set;for(let{fbase_key:r,value:n}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(n)&&(this.notifyListeners(r,n),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!i.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let i=this.listeners[e];if(i)for(let e of Array.from(i))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}async function aN(e,t,i){var r,n,s;let o=await i.verify();try{let a;if(sQ("string"==typeof o,e,"argument-error"),sQ("recaptcha"===i.type,e,"argument-error"),a="string"==typeof t?{phoneNumber:t}:t,"session"in a){let t=a.session;if("phoneNumber"in a){sQ("enroll"===t.type,e,"internal-error");let i=await (n={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:a.phoneNumber,recaptchaToken:o}},s7(e,"POST","/v2/accounts/mfaEnrollment:start",s3(e,n)));return i.phoneSessionInfo.sessionInfo}{sQ("signin"===t.type,e,"internal-error");let i=(null===(r=a.multiFactorHint)||void 0===r?void 0:r.uid)||a.multiFactorUid;sQ(i,e,"missing-multi-factor-info");let n=await (s={mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{recaptchaToken:o}},s7(e,"POST","/v2/accounts/mfaSignIn:start",s3(e,s)));return n.phoneResponseInfo.sessionInfo}}{let{sessionInfo:t}=await o1(e,{phoneNumber:a.phoneNumber,recaptchaToken:o});return t}}finally{i._reset()}}aP.type="LOCAL",oH("rcb"),new s2(3e4,6e4);class aD{constructor(e){this.providerId=aD.PROVIDER_ID,this.auth=eF(e)}verifyPhoneNumber(e,t){return aN(this.auth,e,eF(t))}static credential(e,t){return o5._fromVerification(e,t)}static credentialFromResult(e){return aD.credentialFromTaggedObject(e)}static credentialFromError(e){return aD.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:i}=e;return t&&i?o5._fromTokenResponse(t,i):null}}aD.PROVIDER_ID="phone",aD.PHONE_SIGN_IN_METHOD="phone";class aL extends oG{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oZ(e,this._buildIdpRequest())}_linkToIdToken(e,t){return oZ(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return oZ(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function aM(e){return ac(e.auth,new aL(e),e.bypassAuthState)}function ax(e){let{auth:t,user:i}=e;return sQ(i,t,"internal-error"),au(i,new aL(e),e.bypassAuthState)}async function aU(e){let{auth:t,user:i}=e;return sQ(i,t,"internal-error"),ah(i,new aL(e),e.bypassAuthState)}class aj{constructor(e,t,i,r,n=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=n,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:i,postBody:r,tenantId:n,error:s,type:o}=e;if(s){this.reject(s);return}let a={auth:this.auth,requestUri:t,sessionId:i,tenantId:n||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aM;case"linkViaPopup":case"linkViaRedirect":return aU;case"reauthViaPopup":case"reauthViaRedirect":return ax;default:sJ(this.auth,"internal-error")}}resolve(e){this.pendingPromise||sZ("Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){this.pendingPromise||sZ("Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const aF=new s2(2e3,1e4);class a$ extends aj{constructor(e,t,i,r,n){super(e,t,r,n),this.provider=i,this.authWindow=null,this.pollId=null,a$.currentPopupAction&&a$.currentPopupAction.cancel(),a$.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return sQ(e,this.auth,"internal-error"),e}async onExecution(){1===this.filter.length||sZ("Popup operations only handle one event");let e=av();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(sY(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(sY(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,a$.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,i;if(null===(i=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===i?void 0:i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sY(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aF.get())};e()}}a$.currentPopupAction=null;const aV=new Map;class aH extends aj{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=aV.get(this.auth._key());if(!e){try{let t=await aB(this.resolver,this.auth),i=t?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}aV.set(this.auth._key(),e)}return this.bypassAuthState||aV.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aB(e,t){let i=oE("pendingRedirect",t.config.apiKey,t.name),r=ob(e._redirectPersistence);if(!await r._isAvailable())return!1;let n=await r._get(i)==="true";return await r._remove(i),n}function az(e,t){aV.set(e._key(),t)}async function aW(e,t,i=!1){let r=eF(e),n=t?ob(t):(sQ(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver),s=new aH(r,n,i),o=await s.execute();return o&&!i&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class aK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aq(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!aq(e)){let r=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(sY(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(aG(e))}saveEventToCache(e){this.cachedEventUids.add(aG(e)),this.lastProcessedEventTime=Date.now()}}function aG(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function aq({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}async function aJ(e,t={}){return s7(e,"GET","/v1/projects",t)}const aY=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aX=/^https?/;async function aQ(e){if(e.config.emulator)return;let{authorizedDomains:t}=await aJ(e);for(let e of t)try{if(function(e){let t=s0(),{protocol:i,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let n=new URL(e);return""===n.hostname&&""===r?"chrome-extension:"===i&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===i&&n.hostname===r}if(!aX.test(i))return!1;if(aY.test(e))return r===e;let n=e.replace(/\./g,"\\."),s=RegExp("^(.+\\."+n+"|"+n+")$","i");return s.test(r)}(e))return}catch(e){}sJ(e,"unauthorized-domain")}const aZ=new s2(3e4,6e4);function a0(){let e=aw().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let a1=null;const a2=new s2(5e3,15e3),a9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function a6(e){let t=await (a1=a1||new Promise((t,i)=>{var r,n,s;function o(){a0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{a0(),i(sY(e,"network-request-failed"))},timeout:aZ.get()})}if(null===(n=null===(r=aw().gapi)||void 0===r?void 0:r.iframes)||void 0===n?void 0:n.Iframe)t(gapi.iframes.getContext());else if(null===(s=aw().gapi)||void 0===s?void 0:s.load)o();else{let t=oH("iframefcb");return aw()[t]=()=>{gapi.load?o():i(sY(e,"network-request-failed"))},oV(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>i(e))}}).catch(e=>{throw a1=null,e})),i=aw().gapi;return sQ(i,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;sQ(t.authDomain,e,"auth-domain-config-required");let i=t.emulator?s9(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:tc},n=a4.get(e.config.apiHost);n&&(r.eid=n);let s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${i}?${eL(r).slice(1)}`}(e),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a9,dontclear:!0},t=>new Promise(async(i,r)=>{await t.restyle({setHideOnLeave:!1});let n=sY(e,"network-request-failed"),s=aw().setTimeout(()=>{r(n)},a2.get());function o(){aw().clearTimeout(s),i(t)}t.ping(o).then(o,()=>{r(n)})}))}const a5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class a3{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const a7=encodeURIComponent("fac");async function a8(e,t,i,r,n,s){sQ(e.config.authDomain,e,"auth-domain-config-required"),sQ(e.config.apiKey,e,"invalid-api-key");let o={apiKey:e.config.apiKey,appName:e.name,authType:i,redirectUrl:r,v:tc,eventId:n};if(t instanceof o8)for(let[i,r]of(t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",!function(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())&&(o.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(s||{})))o[i]=r;if(t instanceof ae){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(o.scopes=e.join(","))}for(let t of(e.tenantId&&(o.tid=e.tenantId),Object.keys(o)))void 0===o[t]&&delete o[t];let a=await e._getAppCheckToken(),l=a?`#${a7}=${encodeURIComponent(a)}`:"";return`${function({config:e}){return e.emulator?s9(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${eL(o).slice(1)}${l}`}const le="webStorageSupport",lt=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ag,this._completeRedirectFn=aW,this._overrideRedirectResult=az}async _openPopup(e,t,i,r){var n;(null===(n=this.eventManagers[e._key()])||void 0===n?void 0:n.manager)||sZ("_initialize() not called before _openPopup()");let s=await a8(e,t,i,s0(),r);return function(e,t,i,r=500,n=600){let s=Math.max((window.screen.availHeight-n)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},a5),{width:r.toString(),height:n.toString(),top:s,left:o}),h=eR().toLowerCase();i&&(a=oR(h)?"_blank":i),ok(h)&&(t=t||"http://localhost",l.scrollbars="yes");let u=Object.entries(l).reduce((e,[t,i])=>`${e}${t}=${i},`,"");if(function(e=eR()){var t;return oD(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(h)&&"_self"!==a)return function(e,t){let i=document.createElement("a");i.href=e,i.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}(t||"",a),new a3(null);let c=window.open(t||"",a,u);sQ(c,e,"popup-blocked");try{c.focus()}catch(e){}return new a3(c)}(e,s,av())}async _openRedirect(e,t,i,r){await this._originValidation(e);let n=await a8(e,t,i,s0(),r);return aw().location.href=n,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:i}=this.eventManagers[t];return e?Promise.resolve(e):(i||sZ("If manager is not set, promise should be"),i)}let i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){let t=await a6(e),i=new aK(e);return t.register("authEvent",t=>{sQ(null==t?void 0:t.authEvent,e,"invalid-auth-event");let r=i.onEvent(t.authEvent);return{status:r?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){let i=this.iframes[e._key()];i.send(le,{type:le},i=>{var r;let n=null===(r=null==i?void 0:i[0])||void 0===r?void 0:r[le];void 0!==n&&t(!!n),sJ(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=aQ(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return oL()||oC()||oD()}};class li{constructor(e){this.factorId=e}_process(e,t,i){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,i);case"signin":return this._finalizeSignIn(e,t.credential);default:return sZ("unexpected MultiFactorSessionType")}}}class lr extends li{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new lr(e)}_finalizeEnroll(e,t,i){return s7(e,"POST","/v2/accounts/mfaEnrollment:finalize",s3(e,{idToken:t,displayName:i,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(e,t){return s7(e,"POST","/v2/accounts/mfaSignIn:finalize",s3(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}}class ln extends li{constructor(e,t,i){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=i}static _fromSecret(e,t){return new ln(t,void 0,e)}static _fromEnrollmentId(e,t){return new ln(t,e)}async _finalizeEnroll(e,t,i){return sQ(void 0!==this.secret,e,"argument-error"),s7(e,"POST","/v2/accounts/mfaEnrollment:finalize",s3(e,{idToken:t,displayName:i,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(e,t){sQ(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let i={verificationCode:this.otp};return s7(e,"POST","/v2/accounts/mfaSignIn:finalize",s3(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:i}))}}class ls{constructor(e,t,i,r,n,s,o){this.sessionInfo=s,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=i,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=n}static _fromStartTotpMfaEnrollmentResponse(e,t){return new ls(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var i;let r=!1;return(lo(e)||lo(t))&&(r=!0),r&&(lo(e)&&(e=(null===(i=this.auth.currentUser)||void 0===i?void 0:i.email)||"unknownuser"),lo(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function lo(e){return void 0===e||(null==e?void 0:e.length)===0}var la="@firebase/auth",ll="1.2.0";class lh{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;let t=await this.auth.currentUser.getIdToken(e);return{accessToken:t}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){sQ(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const lu=ek("authIdTokenMaxAge")||300;let lc=null;const ld=e=>async t=>{let i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>lu)return;let n=null==i?void 0:i.token;lc!==n&&(lc=n,await fetch(e,{method:n?"POST":"DELETE",headers:n?{Authorization:`Bearer ${n}`}:{}}))};S="Browser",ta(new e$("auth",(e,{options:t})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),n=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=i.options;sQ(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let a={apiKey:s,authDomain:o,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oM(S)},l=new oF(i,r,n,a);return function(e,t){let i=(null==t?void 0:t.persistence)||[],r=(Array.isArray(i)?i:[i]).map(ob);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{let r=e.getProvider("auth-internal");r.initialize()})),ta(new e$("auth-internal",e=>{let t=eF(e.getProvider("auth").getImmediate());return new lh(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),tp(la,ll,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(S)),tp(la,ll,"esm2017");const lf=td({apiKey:"AIzaSyArUSdjZOqgrTh7W6Yn2mi17H6HdxW_M50",authDomain:"ddf-website-project.firebaseapp.com",projectId:"ddf-website-project",storageBucket:"ddf-website-project.appspot.com",messagingSenderId:"347273855961",appId:"1:347273855961:web:3969f8213b57366545cfc8",measurementId:"G-SVW4RCZLG8"});!function(e,t){let i="object"==typeof e?e:tf(),r=tl(i,"firestore").getImmediate({identifier:"string"==typeof e?e:"(default)"});if(!r._initialized){let e=eT("firestore");e&&function(e,t,i,r={}){var n;let s=(e=function(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new sn(sr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let i=function(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{var t;let i=(t=e).constructor?t.constructor.name:null;return i?`a custom ${i} object`:"an object"}}return"function"==typeof e?"a function":si()}(e);throw new sn(sr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return e}(e,sF))._getSettings(),o=`${t}:${i}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&function(e){if(n7.logLevel<=tU.WARN){let t=[].map(st);n7.warn(`Firestore (${n3}): ${e}`,...t)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,i;if("string"==typeof r.mockUserToken)t=r.mockUserToken,i=n5.MOCK_USER;else{t=function(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let i=t||"demo-project",r=e.iat||0,n=e.sub||e.user_id;if(!n)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:n,user_id:n,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ev(JSON.stringify({alg:"none",type:"JWT"})),ev(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(n=e._app)||void 0===n?void 0:n.options.projectId);let s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new sn(sr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");i=new n5(s)}e._authCredentials=new sl(new so(t,i))}}(r,...e)}}(lf),function(e=tf()){let t=tl(e,"auth");if(t.isInitialized())return t.getImmediate();let i=function(e,t){let i=tl(e,"auth");if(i.isInitialized()){let e=i.getImmediate(),r=i.getOptions();if(eN(r,null!=t?t:{}))return e;sJ(e,"already-initialized")}let r=i.initialize({options:t});return r}(e,{popupRedirectResolver:lt,persistence:[aP,ap,ag]}),r=ek("authTokenSyncURL");if(r){let e=ld(r);eF(i).beforeAuthStateChanged(e,()=>e(i.currentUser)),eF(i).onIdTokenChanged(t=>e(t),void 0,void 0)}let n=eE("auth");n&&function(e,t,i){let r=eF(e);sQ(r._canInitEmulator,r,"emulator-config-failed"),sQ(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let n=!!(null==i?void 0:i.disableWarnings),s=oW(t),{host:o,port:a}=function(e){let t=oW(e),i=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!i)return{host:"",port:null};let r=i[2].split("@").pop()||"",n=/^(\[[^\]]+\])(:|$)/.exec(r);if(n){let e=n[1];return{host:e,port:oK(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:oK(t)}}}(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:n})}),n||function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(i,`http://${n}`)}(lf),new ai;var lp={};r="millisecond",n="second",s="minute",o="hour",a="week",l="month",h="quarter",u="year",c="date",d="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g=function(e,t,i){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(i)+e},(v={})[m="en"]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],i=e%100;return"["+e+(t[(i-20)%10]||t[i]||"th")+"]"}},y=function(e){return e instanceof I},w=function e(t,i,r){var n;if(!t)return m;if("string"==typeof t){var s=t.toLowerCase();v[s]&&(n=s),i&&(v[s]=i,n=s);var o=t.split("-");if(!n&&o.length>1)return e(o[0])}else{var a=t.name;v[a]=t,n=a}return!r&&n&&(m=n),n||!r&&m},_=function(e,t){if(y(e))return e.clone();var i="object"==typeof t?t:{};return i.date=e,i.args=arguments,new I(i)},(b={s:g,z:function(e){var t=-e.utcOffset(),i=Math.abs(t);return(t<=0?"+":"-")+g(Math.floor(i/60),2,"0")+":"+g(i%60,2,"0")},m:function e(t,i){if(t.date()<i.date())return-e(i,t);var r=12*(i.year()-t.year())+(i.month()-t.month()),n=t.clone().add(r,l),s=i-n<0,o=t.clone().add(r+(s?-1:1),l);return+(-(r+(i-n)/(s?n-o:o-n))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return({M:l,y:u,w:a,d:"day",D:c,h:o,m:s,s:n,ms:r,Q:h})[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}}).l=w,b.i=y,b.w=function(e,t){return _(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})},E=(I=function(){function e(e){this.$L=w(e.locale,null,!0),this.parse(e)}var t=e.prototype;return t.parse=function(e){this.$d=function(e){var t=e.date,i=e.utc;if(null===t)return new Date(NaN);if(b.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(f);if(r){var n=r[2]-1||0,s=(r[7]||"0").substring(0,3);return i?new Date(Date.UTC(r[1],n,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],n,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},t.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},t.$utils=function(){return b},t.isValid=function(){return this.$d.toString()!==d},t.isSame=function(e,t){var i=_(e);return this.startOf(t)<=i&&i<=this.endOf(t)},t.isAfter=function(e,t){return _(e)<this.startOf(t)},t.isBefore=function(e,t){return this.endOf(t)<_(e)},t.$g=function(e,t,i){return b.u(e)?this[t]:this.set(i,e)},t.unix=function(){return Math.floor(this.valueOf()/1e3)},t.valueOf=function(){return this.$d.getTime()},t.startOf=function(e,t){var i=this,r=!!b.u(t)||t,h=b.p(e),d=function(e,t){var n=b.w(i.$u?Date.UTC(i.$y,t,e):new Date(i.$y,t,e),i);return r?n:n.endOf("day")},f=function(e,t){return b.w(i.toDate()[e].apply(i.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),i)},p=this.$W,g=this.$M,m=this.$D,v="set"+(this.$u?"UTC":"");switch(h){case u:return r?d(1,0):d(31,11);case l:return r?d(1,g):d(0,g+1);case a:var y=this.$locale().weekStart||0,w=(p<y?p+7:p)-y;return d(r?m-w:m+(6-w),g);case"day":case c:return f(v+"Hours",0);case o:return f(v+"Minutes",1);case s:return f(v+"Seconds",2);case n:return f(v+"Milliseconds",3);default:return this.clone()}},t.endOf=function(e){return this.startOf(e,!1)},t.$set=function(e,t){var i,a=b.p(e),h="set"+(this.$u?"UTC":""),d=((i={}).day=h+"Date",i[c]=h+"Date",i[l]=h+"Month",i[u]=h+"FullYear",i[o]=h+"Hours",i[s]=h+"Minutes",i[n]=h+"Seconds",i[r]=h+"Milliseconds",i)[a],f="day"===a?this.$D+(t-this.$W):t;if(a===l||a===u){var p=this.clone().set(c,1);p.$d[d](f),p.init(),this.$d=p.set(c,Math.min(this.$D,p.daysInMonth())).$d}else d&&this.$d[d](f);return this.init(),this},t.set=function(e,t){return this.clone().$set(e,t)},t.get=function(e){return this[b.p(e)]()},t.add=function(e,t){var i,r=this;e=Number(e);var h=b.p(t),c=function(t){var i=_(r);return b.w(i.date(i.date()+Math.round(t*e)),r)};if(h===l)return this.set(l,this.$M+e);if(h===u)return this.set(u,this.$y+e);if("day"===h)return c(1);if(h===a)return c(7);var d=((i={})[s]=6e4,i[o]=36e5,i[n]=1e3,i)[h]||1,f=this.$d.getTime()+e*d;return b.w(f,this)},t.subtract=function(e,t){return this.add(-1*e,t)},t.format=function(e){var t=this,i=this.$locale();if(!this.isValid())return i.invalidDate||d;var r=e||"YYYY-MM-DDTHH:mm:ssZ",n=b.z(this),s=this.$H,o=this.$m,a=this.$M,l=i.weekdays,h=i.months,u=i.meridiem,c=function(e,i,n,s){return e&&(e[i]||e(t,r))||n[i].slice(0,s)},f=function(e){return b.s(s%12||12,e,"0")},g=u||function(e,t,i){var r=e<12?"AM":"PM";return i?r.toLowerCase():r};return r.replace(p,function(e,r){return r||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return b.s(t.$y,4,"0");case"M":return a+1;case"MM":return b.s(a+1,2,"0");case"MMM":return c(i.monthsShort,a,h,3);case"MMMM":return c(h,a);case"D":return t.$D;case"DD":return b.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return c(i.weekdaysMin,t.$W,l,2);case"ddd":return c(i.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(s);case"HH":return b.s(s,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return g(s,o,!0);case"A":return g(s,o,!1);case"m":return String(o);case"mm":return b.s(o,2,"0");case"s":return String(t.$s);case"ss":return b.s(t.$s,2,"0");case"SSS":return b.s(t.$ms,3,"0");case"Z":return n}return null}(e)||n.replace(":","")})},t.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},t.diff=function(e,t,i){var r,c=this,d=b.p(t),f=_(e),p=(f.utcOffset()-this.utcOffset())*6e4,g=this-f,m=function(){return b.m(c,f)};switch(d){case u:r=m()/12;break;case l:r=m();break;case h:r=m()/3;break;case a:r=(g-p)/6048e5;break;case"day":r=(g-p)/864e5;break;case o:r=g/36e5;break;case s:r=g/6e4;break;case n:r=g/1e3;break;default:r=g}return i?r:b.a(r)},t.daysInMonth=function(){return this.endOf(l).$D},t.$locale=function(){return v[this.$L]},t.locale=function(e,t){if(!e)return this.$L;var i=this.clone(),r=w(e,t,!0);return r&&(i.$L=r),i},t.clone=function(){return b.w(this.$d,this)},t.toDate=function(){return new Date(this.valueOf())},t.toJSON=function(){return this.isValid()?this.toISOString():null},t.toISOString=function(){return this.$d.toISOString()},t.toString=function(){return this.$d.toUTCString()},e}()).prototype,_.prototype=E,[["$ms",r],["$s",n],["$m",s],["$H",o],["$W","day"],["$M",l],["$y",u],["$D",c]].forEach(function(e){E[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),_.extend=function(e,t){return e.$i||(e(t,I,_),e.$i=!0),_},_.locale=w,_.isDayjs=y,_.unix=function(e){return _(1e3*e)},_.en=v[m],_.Ls=v,_.p={},j("2TgRs");var F=j("2TgRs");function lg(){return(lg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}const lm=["reloadDocument","replace","state","method","action","onSubmit","submit","relative","preventScrollReset"];F.startTransition,"undefined"!=typeof window&&void 0!==window.document&&window.document.createElement,(k=D||(D={})).UseScrollRestoration="useScrollRestoration",k.UseSubmit="useSubmit",k.UseSubmitFetcher="useSubmitFetcher",k.UseFetcher="useFetcher",(C=L||(L={})).UseFetchers="useFetchers",C.UseScrollRestoration="useScrollRestoration";var F=j("2TgRs");j("2TgRs"),new URL(j("4Ktzh").resolve("hjfGV"),import.meta.url).toString(),j("2TgRs");
//# sourceMappingURL=index.1da0fa41.js.map
